ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m0
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 0
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.syntax unified
  15              		.file	"CapSense_Centroid_LL.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.CapSense_DpFindLocalMaxSd,"ax",%progbits
  20              		.align	2
  21              		.global	CapSense_DpFindLocalMaxSd
  22              		.code	16
  23              		.thumb_func
  24              		.type	CapSense_DpFindLocalMaxSd, %function
  25              	CapSense_DpFindLocalMaxSd:
  26              	.LFB2:
  27              		.file 1 "Generated_Source\\PSoC4\\CapSense_Centroid_LL.c"
   1:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** /***************************************************************************//**
   2:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \file CapSense_Centroid_LL.c
   3:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \version 5.0
   4:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
   5:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \brief
   6:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   This file provides the source code for the centroid calculation methods
   7:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   of the Component.
   8:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
   9:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \see CapSense v5.0 Datasheet
  10:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
  11:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *//*****************************************************************************
  12:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * Copyright (2016-2017), Cypress Semiconductor Corporation.
  13:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** ********************************************************************************
  14:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * This software is owned by Cypress Semiconductor Corporation (Cypress) and is
  15:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * protected by and subject to worldwide patent protection (United States and
  16:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * foreign), United States copyright laws and international treaty provisions.
  17:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * Cypress hereby grants to licensee a personal, non-exclusive, non-transferable
  18:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * license to copy, use, modify, create derivative works of, and compile the
  19:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * Cypress Source Code and derivative works for the sole purpose of creating
  20:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * custom software in support of licensee product to be used only in conjunction
  21:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * with a Cypress integrated circuit as specified in the applicable agreement.
  22:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * Any reproduction, modification, translation, compilation, or representation of
  23:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * this software except as specified above is prohibited without the express
  24:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * written permission of Cypress.
  25:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
  26:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * Disclaimer: CYPRESS MAKES NO WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, WITH
  27:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * REGARD TO THIS MATERIAL, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
  28:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
  29:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * Cypress reserves the right to make changes without further notice to the
  30:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * materials described herein. Cypress does not assume any liability arising out
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 2


  31:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * of the application or use of any product or circuit described herein. Cypress
  32:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * does not authorize its products for use as critical components in life-support
  33:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * systems where a malfunction or failure may reasonably be expected to result in
  34:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * significant injury to the user. The inclusion of Cypress' product in a life-
  35:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * support systems application implies that the manufacturer assumes all risk of
  36:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * such use and in doing so indemnifies Cypress against all charges. Use may be
  37:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * limited by and subject to the applicable Cypress software license agreement.
  38:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *******************************************************************************/
  39:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
  40:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #include "cytypes.h"
  41:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #include "CyLib.h"
  42:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #include "CapSense_Centroid_LL.h"
  43:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #include "CapSense_Configuration.h"
  44:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #include "CapSense_Structure.h"
  45:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #include "CapSense_Filter.h"
  46:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
  47:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** /*******************************************************************************
  48:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * Local definition
  49:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *******************************************************************************/
  50:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #if CapSense_CSX_TOUCHPAD_WIDGET_EN
  51:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_BUFFER_SIZE \
  52:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             (((CapSense_CSX_MAX_LOCAL_PEAKS + 3u) * sizeof(int8)) +                                
  53:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             (CapSense_CSX_MAX_LOCAL_PEAKS * CapSense_CSX_MAX_LOCAL_PEAKS * sizeof(int32)) + /* dist
  54:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             (CapSense_CSX_MAX_LOCAL_PEAKS * sizeof(int32)) +                                       
  55:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             (CapSense_CSX_MAX_LOCAL_PEAKS * sizeof(int8)) +                                        
  56:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             (CapSense_CSX_MAX_LOCAL_PEAKS * sizeof(int8)) +                                        
  57:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             (CapSense_CSX_MAX_LOCAL_PEAKS * sizeof(int8)))                                         
  58:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
  59:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_FT_ON_FAIL                (0x81u)
  60:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_TOUCH_ABSENT_ID           (0x82u)
  61:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_DEBOUNCE_ENABLE           (0u)
  62:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_TOUCH_MIN_ID              (0u)
  63:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_TOUCH_MAX_ID              (CapSense_CSX_MAX_LOCAL_PEAKS - 1u)
  64:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_INT32                     (0x7FFFFFFFu)
  65:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_TOUCH_DOWN                (0x80u)
  66:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_LIFT_OFF                  (0x40u)
  67:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_DEBOUNCE_MASK             (0x3Fu)
  68:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_POSITION_NONE             (0xFFFFu)
  69:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_Z_SHIFT                   (0x04u)
  70:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_PADDING                   (3Lu)
  71:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_CENTROID_LENGTH           (3u)
  72:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_CENTROID_PREVIOUS         (0u)
  73:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_CENTROID_CENTER           (1u)
  74:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_CENTROID_NEXT             (2u)
  75:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
  76:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #endif /* CapSense_CSX_TOUCHPAD_WIDGET_EN */
  77:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
  78:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** /*******************************************************************************
  79:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * Static variables definition
  80:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *******************************************************************************/
  81:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #if ((CapSense_ENABLE == CapSense_CENTROID_3X3_CSD_EN) || \
  82:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****      (CapSense_ENABLE  == CapSense_SLIDER_WIDGET_EN))
  83:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     static uint8 localMax[CapSense_NUM_CENTROIDS];
  84:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     static CapSense_THRESHOLD_TYPE localDiffArray[CapSense_NUM_CENTROIDS][3u];
  85:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     static uint8 localMaxIndex;
  86:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #endif
  87:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 3


  88:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #if ( 0u !=CapSense_CSX_TOUCHPAD_WIDGET_EN)
  89:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     static CapSense_CSX_TOUCHPAD_DATA_STRUCT newTouches;
  90:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     static CapSense_CSX_TOUCHPAD_DATA_STRUCT *ptrNewTouches = &newTouches;
  91:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     static uint8 newActiveIDs = 0u;
  92:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     static uint8 oldActiveIDs = 0u;
  93:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
  94:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     typedef int32 CapSense_CSX_TOUCHPAD_DISTANCE_MAP[CapSense_CSX_MAX_LOCAL_PEAKS];
  95:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #endif /* ( 0u !=CapSense_CSX_TOUCHPAD_WIDGET_EN) */
  96:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
  97:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** /*******************************************************************************
  98:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * API Prototypes
  99:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *******************************************************************************/
 100:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #if (((CapSense_ENABLE == CapSense_CENTROID_3X3_CSD_EN) || \
 101:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****       (CapSense_ENABLE  == CapSense_SLIDER_WIDGET_EN)) && \
 102:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****       (CapSense_ENABLE == CapSense_4PTS_LOCAL_MAX_EN))
 103:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** static void CapSense_SaveLocalMax(CapSense_RAM_SNS_STRUCT ptrSns[],
 104:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                                                   uint32 snsCount, uint32 fingerThreshold, uint32 s
 105:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #endif
 106:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 107:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #if (0u !=CapSense_CSX_TOUCHPAD_WIDGET_EN)
 108:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     static void CapSense_TransferTouch(uint32 newIndex, uint32 oldIndex, CapSense_CSX_TOUCHPAD_DATA
 109:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     static void CapSense_NewTouch(uint32 newIndex, uint8 onDebounce, uint16 fingerOnThreshold);
 110:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     CY_INLINE static uint8 CapSense_GetLowestId(uint16 idMask);
 111:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     static uint32 CapSense_CalcDistance(uint32 newIndex, uint32 oldIndex, CapSense_CSX_TOUCHPAD_DAT
 112:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     static void CapSense_Hungarian(uint8 rowCount, uint8 colCount, int8 *fingerPosIndex,
 113:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                                            CapSense_CSX_TOUCHPAD_DISTANCE_MAP *distanceMap);
 114:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     static void CapSense_FillDistanceMap(CapSense_CSX_TOUCHPAD_DISTANCE_MAP *distanceMap,
 115:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                                                  CapSense_CSX_TOUCHPAD_DATA_STRUCT *ptrOldTouches);
 116:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     CY_INLINE static void CapSense_TouchDownDebounce(void);
 117:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     CY_INLINE static void CapSense_SortByAge(void);
 118:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     static void CapSense_CopyTouchRecord(CapSense_CSX_TOUCHPAD_PEAK_STRUCT *destination,
 119:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                                                            CapSense_CSX_TOUCHPAD_PEAK_STRUCT *sourc
 120:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #if (0u != CapSense_OFF_DEBOUNCE_EN)
 121:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     CY_INLINE static void CapSense_LiftOffDebounce(uint8 offDebounce,
 122:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                                                            CapSense_CSX_TOUCHPAD_DATA_STRUCT *ptrOl
 123:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #endif /* (0u != CapSense_OFF_DEBOUNCE_EN) */
 124:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #endif /* (0u !=CapSense_CSX_TOUCHPAD_WIDGET_EN) */
 125:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 126:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #if ((CapSense_ENABLE == CapSense_CENTROID_3X3_CSD_EN) || \
 127:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****      (CapSense_ENABLE  == CapSense_SLIDER_WIDGET_EN))
 128:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #if (CapSense_ENABLE == CapSense_4PTS_LOCAL_MAX_EN)
 129:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** /*******************************************************************************
 130:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * Function Name: CapSense_DpFindLocalMaxSd4pts
 131:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** ****************************************************************************//**
 132:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 133:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \brief
 134:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Finds the maximum in the widget differences and prepares array with maximum difference
 135:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   and it's neighbour differences in Legacy mode (only one touch can be found).
 136:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Finds the maxima in the widget differences and prepares arrays with maxima difference
 137:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   and theirs neighbour differences in Multi-Touch mode (maximum three touches can be found).
 138:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   This API is used in conjunction with CapSense_DpCalcLinearCentroid or
 139:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   CapSense__DpCalcRadialCentroid, because they use shared static data: localMax[],
 140:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   localDiffArray[][3u], localMaxIndex.
 141:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 142:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \details
 143:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   The localMax[] is used to store the index of the maximum/maxima.
 144:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   The localDiffArray[][] is used to store values of the maximum/maxima and neighbour differences.
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 4


 145:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   The localMaxIndex is used to store the number of maxima have been actually found.
 146:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   The used finding method checks for 4 points : current, next, previous and before previous
 147:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   sensor's position. Depends on these points differences it chooses the previous or before
 148:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   previous position. For radial sliders an closed character of a widget is taken into the account
 149:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 150:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param ptrFlashWdgt
 151:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   The pointer to the the widget flash structure.
 152:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 153:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param ptrSns
 154:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   The pointer to the the first sensor.
 155:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 156:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param snsCount
 157:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   The total sensor number in the widget.
 158:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 159:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param fingerThreshold
 160:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   The finger threshold in the widget.
 161:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 162:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \return Returns the number of maxima found.
 163:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 164:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *******************************************************************************/
 165:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** uint32 CapSense_DpFindLocalMaxSd4pts(CapSense_FLASH_WD_STRUCT const *ptrFlashWdgt,
 166:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                                               CapSense_RAM_SNS_STRUCT ptrSns[],
 167:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                                               uint32 snsCount, uint32 fingerThreshold)
 168:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** {
 169:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint32 i;
 170:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     CapSense_RAM_SNS_STRUCT *localPtrSns = ptrSns;
 171:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     localMaxIndex = 0u;
 172:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     int32 slope0 = 0;
 173:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     int32 slope1 = (int32)localPtrSns[0].diff;
 174:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     int32 slope2 = 0;
 175:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     int32 slopeLast = -(int32)localPtrSns[snsCount - 1u].diff;
 176:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 177:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #if (0u != CapSense_TOTAL_RADIAL_SLIDERS)
 178:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         if ((CapSense_WD_TYPE_ENUM)ptrFlashWdgt->wdgtType == CapSense_WD_RADIAL_SLIDER_E)
 179:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
 180:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             slope1 = (int32)localPtrSns[0].diff - (int32)localPtrSns[snsCount - 1u].diff;
 181:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             slope2 = (int32)localPtrSns[snsCount - 1u].diff - (int32)localPtrSns[snsCount - 2u].dif
 182:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             slopeLast = slope1;
 183:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
 184:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #else
 185:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Typecast the parameter to avoid a compiler warning */
 186:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         (void) ptrFlashWdgt;
 187:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #endif
 188:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 189:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     /* Search local maxima for sensorId from 0 to snsCount - 1 */
 190:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     for (i = 0uL; i < snsCount; i++ )
 191:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     {
 192:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Check for the last sensor */
 193:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         if ((snsCount - 1uL) == i)
 194:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
 195:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             slope0 = slopeLast;
 196:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
 197:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         else
 198:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
 199:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             slope0 = (int32)localPtrSns[i + 1u].diff - (int32)localPtrSns[i].diff;
 200:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
 201:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 5


 202:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         if(0 > slope0)
 203:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
 204:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             if(0 < slope1)
 205:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
 206:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 CapSense_SaveLocalMax(ptrSns, snsCount, fingerThreshold, i);
 207:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
 208:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             else
 209:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
 210:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 if(0 == slope1)
 211:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 {
 212:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     if(0 == slope2)
 213:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     {
 214:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         CapSense_SaveLocalMax(ptrSns, snsCount, fingerThreshold, (i - 1uL));
 215:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     }
 216:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     else
 217:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     {
 218:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         if (0 < slope2)
 219:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         {
 220:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             if (slope2 > (-slope0))
 221:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             {
 222:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                                 CapSense_SaveLocalMax(ptrSns, snsCount, fingerThreshold, i);
 223:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             }
 224:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             else
 225:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             {
 226:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                                 CapSense_SaveLocalMax(ptrSns, snsCount, fingerThreshold, (i - 1uL))
 227:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             }
 228:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         }
 229:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     }
 230:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 }
 231:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
 232:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             if (localMaxIndex >= CapSense_NUM_CENTROIDS)
 233:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
 234:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 break;
 235:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
 236:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
 237:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         slope2 = slope1;
 238:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         slope1 = slope0;
 239:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     }
 240:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 241:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     return (uint32)(localMaxIndex);
 242:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** }
 243:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 244:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** /*******************************************************************************
 245:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * Function Name: CapSense_SaveLocalMax
 246:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** ****************************************************************************//**
 247:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 248:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \brief
 249:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Stores a found local maximum in the arrays.
 250:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 251:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \details
 252:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Stores a found local maximum in the localMax array if the difference is greater
 253:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   than a finger threshold. Prepares arrays with maximum neighbour differences for
 254:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   position calculations.
 255:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 256:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param *ptrSns
 257:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   A pointer to sensor RAM structure of a found local maximum.
 258:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 6


 259:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param snsCount
 260:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   The total sensor number in the widget.
 261:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 262:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param fingerThreshold
 263:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   A fingerThreshold to compare with a sensor difference.
 264:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 265:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param snsIndex
 266:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   An index of a sensor with a found local maximum.
 267:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 268:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *******************************************************************************/
 269:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** static void CapSense_SaveLocalMax(CapSense_RAM_SNS_STRUCT ptrSns[],
 270:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                                                     uint32 snsCount, uint32 fingerThreshold, uint32
 271:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** {
 272:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     CapSense_THRESHOLD_TYPE currentDiff = ptrSns[snsIndex].diff;
 273:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 274:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     if (currentDiff > fingerThreshold)
 275:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     {
 276:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Store found Peak */
 277:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         localMax[localMaxIndex] = (uint8)snsIndex;
 278:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         localDiffArray[localMaxIndex][CapSense_CENTROID_POS] = currentDiff;
 279:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 280:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Store neighbour differences */
 281:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         if (snsIndex == 0u)
 282:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
 283:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             localDiffArray[localMaxIndex][CapSense_CENTROID_POS_PREV] = ptrSns[snsCount - 1u].diff;
 284:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             localDiffArray[localMaxIndex][CapSense_CENTROID_POS_NEXT] = ptrSns[snsIndex + 1u].diff;
 285:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
 286:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         else if (snsIndex == (snsCount - 1u))
 287:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
 288:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             localDiffArray[localMaxIndex][CapSense_CENTROID_POS_PREV] = ptrSns[snsIndex - 1u].diff;
 289:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             localDiffArray[localMaxIndex][CapSense_CENTROID_POS_NEXT] = ptrSns[0u].diff;
 290:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
 291:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         else
 292:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
 293:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             localDiffArray[localMaxIndex][CapSense_CENTROID_POS_PREV] = ptrSns[snsIndex - 1u].diff;
 294:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             localDiffArray[localMaxIndex][CapSense_CENTROID_POS_NEXT] = ptrSns[snsIndex + 1u].diff;
 295:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
 296:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 297:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         localMaxIndex++;
 298:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     }
 299:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** }
 300:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #else /* (CapSense_ENABLE == CapSense_4PTS_LOCAL_MAX_EN) */
 301:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 302:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** /*******************************************************************************
 303:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * Function Name: CapSense_DpFindLocalMaxSd
 304:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** ****************************************************************************//**
 305:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 306:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \brief
 307:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Finds the maximum in the widget differences and prepares array with maximum difference
 308:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   and it's neighbour differences in Legacy mode (only one touch can be found).
 309:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Finds the maxima in the widget differences and prepares arrays with maxima difference
 310:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   and theirs neighbour differences in Multi-Touch mode (maximum three touches can be found).
 311:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   This API is used in conjunction with CapSense_DpCalcLinearCentroid or
 312:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   CapSense__DpCalcRadialCentroid, because they use shared static data: localMax[],
 313:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   localDiffArray[][3u], localMaxIndex.
 314:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 315:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \details
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 7


 316:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   The localMax[] is used to store the index of the maximum/maxima.
 317:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   The localDiffArray[][] is used to store values of the maximum/maxima and neighbour differences.
 318:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   The localMaxIndex is used to store the number of maxima have been actually found.
 319:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 320:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param ptrSns The pointer to the first sensor.
 321:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param snsCount The total sensor number in the widget.
 322:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param fingerThreshold The finger threshold in the widget.
 323:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 324:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \return Returns the number of maxima found.
 325:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 326:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *******************************************************************************/
 327:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** uint32 CapSense_DpFindLocalMaxSd(CapSense_RAM_SNS_STRUCT ptrSns[], uint32 snsCount,
 328:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                                                                                    uint32 fingerThr
 329:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** {
  28              		.loc 1 329 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              	.LVL0:
  33 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  34              		.cfi_def_cfa_offset 20
  35              		.cfi_offset 4, -20
  36              		.cfi_offset 5, -16
  37              		.cfi_offset 6, -12
  38              		.cfi_offset 7, -8
  39              		.cfi_offset 14, -4
  40              	.LVL1:
 330:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint32 i;
 331:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint32 sensorId;
 332:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 333:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #if (CapSense_NUM_CENTROIDS == 0x01u)
 334:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         CapSense_RAM_SNS_STRUCT *localPtrSns = ptrSns;
 335:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         CapSense_THRESHOLD_TYPE temp = 0u;
 336:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #endif
 337:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 338:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     localMaxIndex = 0u;
  41              		.loc 1 338 0
  42 0002 0024     		movs	r4, #0
  43 0004 334B     		ldr	r3, .L12
  44 0006 1C70     		strb	r4, [r3]
  45              	.LVL2:
 334:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         CapSense_THRESHOLD_TYPE temp = 0u;
  46              		.loc 1 334 0
  47 0008 0400     		movs	r4, r0
 335:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #endif
  48              		.loc 1 335 0
  49 000a 0026     		movs	r6, #0
 339:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 340:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #if (CapSense_NUM_CENTROIDS == 0x01u)
 341:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         for (sensorId = 0u; sensorId < snsCount; sensorId++)
  50              		.loc 1 341 0
  51 000c 0023     		movs	r3, #0
  52 000e 0BE0     		b	.L2
  53              	.LVL3:
  54              	.L4:
 342:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
 343:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             if ((localPtrSns->diff > fingerThreshold) && (localPtrSns->diff > temp))
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 8


  55              		.loc 1 343 0
  56 0010 E588     		ldrh	r5, [r4, #6]
  57 0012 9542     		cmp	r5, r2
  58 0014 06D9     		bls	.L3
  59              		.loc 1 343 0 is_stmt 0 discriminator 1
  60 0016 AE42     		cmp	r6, r5
  61 0018 04D2     		bcs	.L3
 344:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
 345:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 localMax[0u] = LO8(sensorId);
  62              		.loc 1 345 0 is_stmt 1
  63 001a 2E4E     		ldr	r6, .L12
  64              	.LVL4:
  65 001c 3371     		strb	r3, [r6, #4]
  66              	.LVL5:
 346:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 temp = localPtrSns->diff;
 347:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 localMaxIndex = 1u;
  67              		.loc 1 347 0
  68 001e 0127     		movs	r7, #1
  69 0020 3770     		strb	r7, [r6]
 346:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 temp = localPtrSns->diff;
  70              		.loc 1 346 0
  71 0022 2E00     		movs	r6, r5
  72              	.LVL6:
  73              	.L3:
 348:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
 349:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             localPtrSns++;
  74              		.loc 1 349 0 discriminator 2
  75 0024 0A34     		adds	r4, r4, #10
  76              	.LVL7:
 341:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
  77              		.loc 1 341 0 discriminator 2
  78 0026 0133     		adds	r3, r3, #1
  79              	.LVL8:
  80              	.L2:
 341:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
  81              		.loc 1 341 0 is_stmt 0 discriminator 1
  82 0028 8B42     		cmp	r3, r1
  83 002a F1D3     		bcc	.L4
 350:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
 351:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #else /* (CapSense_NUM_CENTROIDS == 0x01u) */
 352:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 353:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         if ((ptrSns[0u].diff > fingerThreshold) && (ptrSns[0u].diff >= ptrSns[1u].diff))
 354:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
 355:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             localMax[localMaxIndex] = 0u;
 356:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             localMaxIndex = 1u;
 357:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
 358:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 359:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         if ((ptrSns[snsCount - 1u].diff > fingerThreshold) && (ptrSns[snsCount - 1u].diff > ptrSns[
 360:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
 361:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             localMax[localMaxIndex] = (uint8)(snsCount - 1u);
 362:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             localMaxIndex++;
 363:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
 364:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 365:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         #if (CapSense_NUM_CENTROIDS == 0x02u)
 366:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             if (localMaxIndex < CapSense_NUM_CENTROIDS)
 367:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
 368:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         #endif /* (CapSense_NUM_CENTROIDS == 0x02u) */
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 9


 369:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 for (sensorId = 1u; sensorId < (snsCount - 1u); sensorId++)
 370:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 {
 371:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     if ((ptrSns[sensorId].diff > fingerThreshold) && (ptrSns[sensorId].diff >= ptrS
 372:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     {
 373:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         if (ptrSns[sensorId].diff > ptrSns[sensorId - 1u].diff)
 374:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         {
 375:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             localMax[localMaxIndex] = (uint8)sensorId;
 376:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             localMaxIndex++;
 377:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 378:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             if (localMaxIndex >= CapSense_NUM_CENTROIDS)
 379:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             {
 380:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                                 break;
 381:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             }
 382:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         }
 383:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     }
 384:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 }
 385:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         #if (CapSense_NUM_CENTROIDS == 0x02u)
 386:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
 387:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         #endif /* (CapSense_NUM_CENTROIDS == 0x02u) */
 388:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #endif /* #if (CapSense_NUM_CENTROIDS == 0x01u) */
 389:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 390:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     if (localMaxIndex != 0u)
  84              		.loc 1 390 0 is_stmt 1
  85 002c 294B     		ldr	r3, .L12
  86              	.LVL9:
  87 002e 1B78     		ldrb	r3, [r3]
  88 0030 002B     		cmp	r3, #0
  89 0032 46D1     		bne	.L11
  90 0034 4AE0     		b	.L6
  91              	.LVL10:
  92              	.L10:
 391:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     {
 392:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Prepare single-dimension centroid calculation array */
 393:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         for (i = 0u; i < localMaxIndex; i++)
 394:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
 395:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****              localDiffArray[i][CapSense_CENTROID_POS] = ptrSns[localMax[i]].diff;
  93              		.loc 1 395 0
  94 0036 274F     		ldr	r7, .L12
  95 0038 BB18     		adds	r3, r7, r2
  96 003a 1B79     		ldrb	r3, [r3, #4]
  97 003c 9E00     		lsls	r6, r3, #2
  98 003e F618     		adds	r6, r6, r3
  99 0040 7400     		lsls	r4, r6, #1
 100 0042 0519     		adds	r5, r0, r4
 101 0044 ED88     		ldrh	r5, [r5, #6]
 102 0046 AC46     		mov	ip, r5
 103 0048 5600     		lsls	r6, r2, #1
 104 004a B618     		adds	r6, r6, r2
 105 004c 7500     		lsls	r5, r6, #1
 106 004e 7D19     		adds	r5, r7, r5
 107 0050 6646     		mov	r6, ip
 108 0052 6E81     		strh	r6, [r5, #10]
 396:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 397:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             if (localMax[i] == 0u)
 109              		.loc 1 397 0
 110 0054 002B     		cmp	r3, #0
 111 0056 12D1     		bne	.L7
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 10


 398:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
 399:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 localDiffArray[i][CapSense_CENTROID_POS_PREV] = ptrSns[snsCount - 1u].diff;
 112              		.loc 1 399 0
 113 0058 8D00     		lsls	r5, r1, #2
 114 005a 6D18     		adds	r5, r5, r1
 115 005c 6C00     		lsls	r4, r5, #1
 116 005e 0A3C     		subs	r4, r4, #10
 117 0060 0419     		adds	r4, r0, r4
 118 0062 E688     		ldrh	r6, [r4, #6]
 119 0064 5500     		lsls	r5, r2, #1
 120 0066 AD18     		adds	r5, r5, r2
 121 0068 6C00     		lsls	r4, r5, #1
 122 006a 3C19     		adds	r4, r7, r4
 123 006c 2681     		strh	r6, [r4, #8]
 400:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 localDiffArray[i][CapSense_CENTROID_POS_NEXT] = ptrSns[localMax[i] + 1u].diff;
 124              		.loc 1 400 0
 125 006e 0133     		adds	r3, r3, #1
 126 0070 9D00     		lsls	r5, r3, #2
 127 0072 EB18     		adds	r3, r5, r3
 128 0074 5D00     		lsls	r5, r3, #1
 129 0076 4519     		adds	r5, r0, r5
 130 0078 EB88     		ldrh	r3, [r5, #6]
 131 007a A381     		strh	r3, [r4, #12]
 132 007c 1FE0     		b	.L8
 133              	.L7:
 401:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
 402:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             else if (localMax[i] == ((uint8)(snsCount - 1u)))
 134              		.loc 1 402 0
 135 007e 4D1E     		subs	r5, r1, #1
 136 0080 EDB2     		uxtb	r5, r5
 137 0082 AB42     		cmp	r3, r5
 138 0084 0BD1     		bne	.L9
 403:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
 404:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 localDiffArray[i][CapSense_CENTROID_POS_PREV] = ptrSns[localMax[i] - 1u].diff;
 139              		.loc 1 404 0
 140 0086 0A3C     		subs	r4, r4, #10
 141 0088 0419     		adds	r4, r0, r4
 142 008a E588     		ldrh	r5, [r4, #6]
 143 008c 5400     		lsls	r4, r2, #1
 144 008e A418     		adds	r4, r4, r2
 145 0090 6300     		lsls	r3, r4, #1
 146 0092 104C     		ldr	r4, .L12
 147 0094 E318     		adds	r3, r4, r3
 148 0096 1D81     		strh	r5, [r3, #8]
 405:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 localDiffArray[i][CapSense_CENTROID_POS_NEXT] = ptrSns[0u].diff;
 149              		.loc 1 405 0
 150 0098 C488     		ldrh	r4, [r0, #6]
 151 009a 9C81     		strh	r4, [r3, #12]
 152 009c 0FE0     		b	.L8
 153              	.L9:
 406:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
 407:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             else
 408:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
 409:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 localDiffArray[i][CapSense_CENTROID_POS_PREV] = ptrSns[localMax[i] - 1u].diff;
 154              		.loc 1 409 0
 155 009e 0A3C     		subs	r4, r4, #10
 156 00a0 0419     		adds	r4, r0, r4
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 11


 157 00a2 E688     		ldrh	r6, [r4, #6]
 158 00a4 5500     		lsls	r5, r2, #1
 159 00a6 AD18     		adds	r5, r5, r2
 160 00a8 6C00     		lsls	r4, r5, #1
 161 00aa 0A4D     		ldr	r5, .L12
 162 00ac 2C19     		adds	r4, r5, r4
 163 00ae 2681     		strh	r6, [r4, #8]
 410:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 localDiffArray[i][CapSense_CENTROID_POS_NEXT] = ptrSns[localMax[i] + 1u].diff;
 164              		.loc 1 410 0
 165 00b0 0133     		adds	r3, r3, #1
 166 00b2 9D00     		lsls	r5, r3, #2
 167 00b4 EB18     		adds	r3, r5, r3
 168 00b6 5D00     		lsls	r5, r3, #1
 169 00b8 4519     		adds	r5, r0, r5
 170 00ba EB88     		ldrh	r3, [r5, #6]
 171 00bc A381     		strh	r3, [r4, #12]
 172              	.L8:
 393:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
 173              		.loc 1 393 0 discriminator 2
 174 00be 0132     		adds	r2, r2, #1
 175              	.LVL11:
 176 00c0 00E0     		b	.L5
 177              	.LVL12:
 178              	.L11:
 179 00c2 0022     		movs	r2, #0
 180              	.LVL13:
 181              	.L5:
 393:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
 182              		.loc 1 393 0 is_stmt 0 discriminator 1
 183 00c4 034B     		ldr	r3, .L12
 184 00c6 1B78     		ldrb	r3, [r3]
 185 00c8 9A42     		cmp	r2, r3
 186 00ca B4D3     		bcc	.L10
 187              	.LVL14:
 188              	.L6:
 411:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
 412:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
 413:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     }
 414:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     /* Return status to check if at least one maximum has been found */
 415:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     return (uint32)(localMaxIndex);
 189              		.loc 1 415 0 is_stmt 1
 190 00cc 014B     		ldr	r3, .L12
 191 00ce 1878     		ldrb	r0, [r3]
 192              	.LVL15:
 416:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** }
 193              		.loc 1 416 0
 194              		@ sp needed
 195 00d0 F0BD     		pop	{r4, r5, r6, r7, pc}
 196              	.L13:
 197 00d2 C046     		.align	2
 198              	.L12:
 199 00d4 00000000 		.word	.LANCHOR0
 200              		.cfi_endproc
 201              	.LFE2:
 202              		.size	CapSense_DpFindLocalMaxSd, .-CapSense_DpFindLocalMaxSd
 203              		.global	__aeabi_idiv
 204              		.section	.text.CapSense_DpCalcLinearCentroid,"ax",%progbits
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 12


 205              		.align	2
 206              		.global	CapSense_DpCalcLinearCentroid
 207              		.code	16
 208              		.thumb_func
 209              		.type	CapSense_DpCalcLinearCentroid, %function
 210              	CapSense_DpCalcLinearCentroid:
 211              	.LFB3:
 417:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #endif /* (CapSense_ENABLE == CapSense_4PTS_LOCAL_MAX_EN) */
 418:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #endif /* ((CapSense_ENABLE == CapSense_CENTROID_3X3_CSD_EN) || \
 419:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****           (CapSense_ENABLE  == CapSense_SLIDER_WIDGET_EN)) */
 420:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 421:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #if CapSense_TOTAL_DIPLEXED_SLIDERS
 422:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** /*******************************************************************************
 423:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * Function Name: CapSense_DpFindLocalMaxDiplex
 424:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** ****************************************************************************//**
 425:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 426:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \brief
 427:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Finds the maximum in the widget differences. Used only for diplexed linear slider.
 428:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 429:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \details
 430:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   The localMax[] is used to store the index of the maximum/maxima.
 431:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   The localDiffArray[][] is used to store values of the maximum/maxima and neighbour differences.
 432:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   The localMaxIndex is used to store the number of maxima have been actually found.
 433:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 434:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param ptrSns The pointer to the first sensor.
 435:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param snsCount The total sensor number in the widget.
 436:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param diplexTable The pointer to the diplex table.
 437:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param fingerThreshold The finger threshold in the widget.
 438:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 439:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \return Returns the number of maxima found.
 440:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 441:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *******************************************************************************/
 442:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** uint32 CapSense_DpFindLocalMaxDiplex(
 443:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         CapSense_RAM_SNS_STRUCT ptrSns[],
 444:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         uint32 snsCount,
 445:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         uint8 const diplexTable[],
 446:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         uint32 fingerThreshold)
 447:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** {
 448:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint32 sensorId;
 449:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint32 diplexSensorId;
 450:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 451:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint32 biggestStartPos = 0u;
 452:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint32 biggestSize = 0u;
 453:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint32 curStartPos = 0u;
 454:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint32 curSize = 0u;
 455:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     CapSense_THRESHOLD_TYPE temp = 0u;
 456:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 457:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     localMaxIndex = 0u;
 458:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 459:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     for (sensorId = 0u; sensorId < (snsCount << 1u); sensorId++)
 460:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     {
 461:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         diplexSensorId = diplexTable[sensorId];
 462:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 463:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         if (ptrSns[diplexSensorId].diff > fingerThreshold)
 464:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
 465:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             if (0u == curSize)
 466:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 13


 467:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 curStartPos = sensorId;
 468:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
 469:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 470:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             curSize++;
 471:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
 472:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         else
 473:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
 474:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             if (curSize > biggestSize)
 475:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
 476:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 biggestSize = curSize;
 477:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 biggestStartPos = curStartPos;
 478:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
 479:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             curSize = 0u;
 480:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
 481:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     }
 482:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 483:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     if (curSize > biggestSize)
 484:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     {
 485:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         biggestSize = curSize;
 486:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         biggestStartPos = curStartPos;
 487:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     }
 488:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 489:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     if (biggestSize >= CapSense_CENTROID_DIPLEX_SECTION_LENGTH)
 490:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     {
 491:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         for (sensorId = biggestStartPos; sensorId < (biggestStartPos + biggestSize); sensorId++)
 492:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
 493:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             diplexSensorId = diplexTable[sensorId];
 494:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 495:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             if (ptrSns[diplexSensorId].diff > temp)
 496:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
 497:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 localMax[0u] = LO8(sensorId);
 498:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 temp = ptrSns[diplexSensorId].diff;
 499:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 localMaxIndex = 1u;
 500:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
 501:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
 502:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 503:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Prepare single-dimension centroid calculation array */
 504:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         if (localMax[0u] == 0u)
 505:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
 506:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             localDiffArray[0u][CapSense_CENTROID_POS_PREV] = 0u;
 507:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             localDiffArray[0u][CapSense_CENTROID_POS] = ptrSns[localMax[0u]].diff;
 508:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             localDiffArray[0u][CapSense_CENTROID_POS_NEXT] = ptrSns[localMax[0u] + 1u].diff;
 509:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 510:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
 511:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         else if (localMax[0u] == ((snsCount << 1u) - 1u))
 512:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
 513:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             diplexSensorId = diplexTable[localMax[0u] - 1u];
 514:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             localDiffArray[0u][CapSense_CENTROID_POS_PREV] = ptrSns[diplexSensorId].diff;
 515:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             diplexSensorId = diplexTable[localMax[0u]];
 516:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             localDiffArray[0u][CapSense_CENTROID_POS] = ptrSns[diplexSensorId].diff;
 517:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             localDiffArray[0u][CapSense_CENTROID_POS_NEXT] = 0u;
 518:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
 519:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         else
 520:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
 521:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             diplexSensorId = diplexTable[localMax[0u] - 1u];
 522:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             localDiffArray[0u][CapSense_CENTROID_POS_PREV] = ptrSns[diplexSensorId].diff;
 523:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             diplexSensorId = diplexTable[localMax[0u]];
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 14


 524:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             localDiffArray[0u][CapSense_CENTROID_POS] = ptrSns[diplexSensorId].diff;
 525:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             diplexSensorId = diplexTable[localMax[0u] + 1u];
 526:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             localDiffArray[0u][CapSense_CENTROID_POS_NEXT] = ptrSns[diplexSensorId].diff;
 527:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
 528:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     }
 529:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 530:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     return (uint32)(localMaxIndex);
 531:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** }
 532:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #endif /* #if CapSense_TOTAL_DIPLEXED_SLIDERS */
 533:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 534:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 535:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #if ((0u != CapSense_TOTAL_LINEAR_SLIDERS) || \
 536:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****      (CapSense_ENABLE == CapSense_CENTROID_3X3_CSD_EN))
 537:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** /*******************************************************************************
 538:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * Function Name: CapSense_DpCalcLinearCentroid
 539:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** ****************************************************************************//**
 540:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 541:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \brief
 542:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Calculates the position of the linear slider.
 543:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 544:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \details
 545:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   The localMax[] is used to store the index of the maximum/maxima.
 546:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   The localDiffArray[][] is used to store values of the maximum/maxima and neighbour differences.
 547:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   The localMaxIndex is used to store the number of maxima have been actually found.
 548:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 549:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param position
 550:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *  The pointer to the position array for temporary position storage.
 551:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 552:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param multiplier
 553:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *  The multiplier used for position calculation. Contains the widget resolution and total sensor
 554:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *  information. It is generated by customizer.
 555:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 556:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param snsCount
 557:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *  The number of sensors in the linear slider. The doubled snsCount has to be passed
 558:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *  if this API is called for diplexed slider.
 559:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 560:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param offset
 561:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *  The additional position offset as half of the multiplier.
 562:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 563:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \return Returns the number of positions calculated.
 564:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 565:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *******************************************************************************/
 566:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** uint32 CapSense_DpCalcLinearCentroid(uint16 position[], uint32 multiplier, uint32 snsCount, uint32 
 567:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** {
 212              		.loc 1 567 0
 213              		.cfi_startproc
 214              		@ args = 0, pretend = 0, frame = 8
 215              		@ frame_needed = 0, uses_anonymous_args = 0
 216              	.LVL16:
 217 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 218              		.cfi_def_cfa_offset 20
 219              		.cfi_offset 4, -20
 220              		.cfi_offset 5, -16
 221              		.cfi_offset 6, -12
 222              		.cfi_offset 7, -8
 223              		.cfi_offset 14, -4
 224 0002 5746     		mov	r7, r10
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 15


 225 0004 4646     		mov	r6, r8
 226 0006 C0B4     		push	{r6, r7}
 227              		.cfi_def_cfa_offset 28
 228              		.cfi_offset 8, -28
 229              		.cfi_offset 10, -24
 230 0008 83B0     		sub	sp, sp, #12
 231              		.cfi_def_cfa_offset 40
 232 000a 8246     		mov	r10, r0
 233 000c 0F00     		movs	r7, r1
 234 000e 0192     		str	r2, [sp, #4]
 235 0010 9846     		mov	r8, r3
 236              	.LVL17:
 568:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     int32 numerator;
 569:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     int32 denominator;
 570:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint32 i;
 571:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 572:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     for (i = 0u; i < localMaxIndex; i++)
 237              		.loc 1 572 0
 238 0012 0025     		movs	r5, #0
 239 0014 2DE0     		b	.L15
 240              	.LVL18:
 241              	.L18:
 573:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     {
 574:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /*
 575:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****          * The CapSense_DpFindLocalMaxSd API prepares the unified localDiffArray[][] for linear and
 576:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****          *  Therefore, the difference of the first and the last elements of linear slider are clear
 577:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****          */
 578:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 579:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         if (localMax[i] == 0u)
 242              		.loc 1 579 0
 243 0016 1B4B     		ldr	r3, .L19
 244 0018 5B19     		adds	r3, r3, r5
 245 001a 1C79     		ldrb	r4, [r3, #4]
 246 001c 002C     		cmp	r4, #0
 247 001e 07D1     		bne	.L16
 580:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
 581:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             localDiffArray[i][CapSense_CENTROID_POS_PREV] = 0u;
 248              		.loc 1 581 0
 249 0020 6A00     		lsls	r2, r5, #1
 250 0022 5219     		adds	r2, r2, r5
 251 0024 5300     		lsls	r3, r2, #1
 252 0026 174A     		ldr	r2, .L19
 253 0028 D318     		adds	r3, r2, r3
 254 002a 0022     		movs	r2, #0
 255 002c 1A81     		strh	r2, [r3, #8]
 256 002e 0AE0     		b	.L17
 257              	.L16:
 582:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
 583:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         else
 584:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
 585:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             if (localMax[i] == (snsCount - 1u))
 258              		.loc 1 585 0
 259 0030 019B     		ldr	r3, [sp, #4]
 260 0032 013B     		subs	r3, r3, #1
 261 0034 9C42     		cmp	r4, r3
 262 0036 06D1     		bne	.L17
 586:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 16


 587:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 localDiffArray[i][CapSense_CENTROID_POS_NEXT] = 0u;
 263              		.loc 1 587 0
 264 0038 6A00     		lsls	r2, r5, #1
 265 003a 5219     		adds	r2, r2, r5
 266 003c 5300     		lsls	r3, r2, #1
 267 003e 114A     		ldr	r2, .L19
 268 0040 D318     		adds	r3, r2, r3
 269 0042 0022     		movs	r2, #0
 270 0044 9A81     		strh	r2, [r3, #12]
 271              	.L17:
 588:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
 589:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
 590:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 591:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Si+1 - Si-1 */
 592:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         numerator = (int32) localDiffArray[i][CapSense_CENTROID_POS_NEXT] -
 272              		.loc 1 592 0 discriminator 2
 273 0046 6E00     		lsls	r6, r5, #1
 274 0048 7219     		adds	r2, r6, r5
 275 004a 5300     		lsls	r3, r2, #1
 276 004c 0D4A     		ldr	r2, .L19
 277 004e D318     		adds	r3, r2, r3
 278 0050 9A89     		ldrh	r2, [r3, #12]
 593:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     (int32) localDiffArray[i][CapSense_CENTROID_POS_PREV];
 279              		.loc 1 593 0 discriminator 2
 280 0052 1989     		ldrh	r1, [r3, #8]
 592:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     (int32) localDiffArray[i][CapSense_CENTROID_POS_PREV];
 281              		.loc 1 592 0 discriminator 2
 282 0054 501A     		subs	r0, r2, r1
 283              	.LVL19:
 594:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 595:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Si+1 + Si + Si-1 */
 596:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         denominator = (int32) localDiffArray[i][CapSense_CENTROID_POS_PREV] +
 597:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                       (int32) localDiffArray[i][CapSense_CENTROID_POS] +
 284              		.loc 1 597 0 discriminator 2
 285 0056 5B89     		ldrh	r3, [r3, #10]
 596:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                       (int32) localDiffArray[i][CapSense_CENTROID_POS] +
 286              		.loc 1 596 0 discriminator 2
 287 0058 C918     		adds	r1, r1, r3
 288 005a 5118     		adds	r1, r2, r1
 289              	.LVL20:
 598:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                       (int32) localDiffArray[i][CapSense_CENTROID_POS_NEXT];
 599:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 600:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         denominator = ((numerator * (int32)multiplier) / denominator) +
 290              		.loc 1 600 0 discriminator 2
 291 005c 7843     		muls	r0, r7
 292              	.LVL21:
 293 005e FFF7FEFF 		bl	__aeabi_idiv
 294              	.LVL22:
 601:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                       (((int32)localMax[i] * (int32)multiplier) + (int32)offset);
 295              		.loc 1 601 0 discriminator 2
 296 0062 7C43     		muls	r4, r7
 297 0064 4444     		add	r4, r4, r8
 600:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                       (((int32)localMax[i] * (int32)multiplier) + (int32)offset);
 298              		.loc 1 600 0 discriminator 2
 299 0066 0019     		adds	r0, r0, r4
 300              	.LVL23:
 602:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 17


 603:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Round result and shift 8 bits left */
 604:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         position[i] = LO16(((uint32)denominator + CapSense_CENTROID_ROUND_VALUE) >> 8u);
 301              		.loc 1 604 0 discriminator 2
 302 0068 7F30     		adds	r0, r0, #127
 303              	.LVL24:
 304 006a 000A     		lsrs	r0, r0, #8
 305              	.LVL25:
 306 006c 5346     		mov	r3, r10
 307 006e 9853     		strh	r0, [r3, r6]
 572:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     {
 308              		.loc 1 572 0 discriminator 2
 309 0070 0135     		adds	r5, r5, #1
 310              	.LVL26:
 311              	.L15:
 572:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     {
 312              		.loc 1 572 0 is_stmt 0 discriminator 1
 313 0072 044B     		ldr	r3, .L19
 314 0074 1878     		ldrb	r0, [r3]
 315 0076 8542     		cmp	r5, r0
 316 0078 CDD3     		bcc	.L18
 605:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     }
 606:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     return (uint32)(localMaxIndex);
 607:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** }
 317              		.loc 1 607 0 is_stmt 1
 318 007a 03B0     		add	sp, sp, #12
 319              		@ sp needed
 320              	.LVL27:
 321              	.LVL28:
 322              	.LVL29:
 323              	.LVL30:
 324 007c 0CBC     		pop	{r2, r3}
 325 007e 9046     		mov	r8, r2
 326 0080 9A46     		mov	r10, r3
 327 0082 F0BD     		pop	{r4, r5, r6, r7, pc}
 328              	.L20:
 329              		.align	2
 330              	.L19:
 331 0084 00000000 		.word	.LANCHOR0
 332              		.cfi_endproc
 333              	.LFE3:
 334              		.size	CapSense_DpCalcLinearCentroid, .-CapSense_DpCalcLinearCentroid
 335              		.section	.text.CapSense_InitPosFiltersSd,"ax",%progbits
 336              		.align	2
 337              		.global	CapSense_InitPosFiltersSd
 338              		.code	16
 339              		.thumb_func
 340              		.type	CapSense_InitPosFiltersSd, %function
 341              	CapSense_InitPosFiltersSd:
 342              	.LFB4:
 608:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #endif /* ((0u != CapSense_TOTAL_LINEAR_SLIDERS) || \
 609:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****           (CapSense_ENABLE == CapSense_CENTROID_3X3_CSD_EN)) */
 610:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 611:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 612:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #if CapSense_TOTAL_RADIAL_SLIDERS
 613:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** /*******************************************************************************
 614:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * Function Name: CapSense_DpCalcRadialCentroid
 615:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** ****************************************************************************//**
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 18


 616:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 617:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \brief
 618:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Calculates the position of the radial slider.
 619:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 620:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \details
 621:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   The localMax[] is used to store the index of the maximum/maxima.
 622:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   The localDiffArray[][] is used to store values of the maximum/maxima and neighbour differences.
 623:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   The localMaxIndex is used to store the number of maxima have been actually found.
 624:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 625:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param *position The pointer to the position array for temporary storage.
 626:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param multiplier The multiplier used for position calculation.
 627:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *                       Contains the widget resolution and total sensor information. It is generate
 628:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param snsCount The total sensor number in the widget.
 629:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 630:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \return Returns the number of positions calculated.
 631:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 632:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *******************************************************************************/
 633:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** uint32 CapSense_DpCalcRadialCentroid(uint16 position[], uint32 multiplier, uint32 snsCount)
 634:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** {
 635:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     int32 numerator;
 636:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     int32 denominator;
 637:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint32 i;
 638:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 639:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     for (i = 0u; i < localMaxIndex; i++)
 640:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     {
 641:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Si+1 - Si-1 */
 642:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         numerator = (int32) localDiffArray[i][CapSense_CENTROID_POS_NEXT] -
 643:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     (int32) localDiffArray[i][CapSense_CENTROID_POS_PREV];
 644:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 645:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Si+1 + Si + Si-1 */
 646:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         denominator = (int32) localDiffArray[i][CapSense_CENTROID_POS_PREV] +
 647:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                       (int32) localDiffArray[i][CapSense_CENTROID_POS] +
 648:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                       (int32) localDiffArray[i][CapSense_CENTROID_POS_NEXT];
 649:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 650:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         denominator = ((numerator * (int32)multiplier) / denominator) +
 651:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                        ((int32)localMax[i] * (int32)multiplier);
 652:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 653:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         if (denominator < 0)
 654:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
 655:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             denominator += ((int32)snsCount * (int32)multiplier);
 656:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
 657:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 658:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Round result and shift 8 bits left */
 659:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         position[i] = LO16(((uint32)denominator + CapSense_CENTROID_ROUND_VALUE) >> 8u);
 660:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     }
 661:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     return (uint32)(localMaxIndex);
 662:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** }
 663:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #endif /* #if CapSense_TOTAL_RADIAL_SLIDERS */
 664:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 665:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 666:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #if ( 0u != CapSense_CSX_TOUCHPAD_WIDGET_EN)
 667:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** /*******************************************************************************
 668:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * Function Name: CapSense_DpFindLocalMaxDd
 669:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** ****************************************************************************//**
 670:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 671:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \brief
 672:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Finds up to 5 local maxima in the CSX TouchPad difference data.
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 19


 673:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 674:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \details
 675:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *  The column and row number of each maximum and total number of found maxima
 676:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *  are stored in the structure pointed by ptr2CsxTouchpad in
 677:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *  the Flash Widget Structure.
 678:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 679:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param ptrFlashWdgt The pointer to the Flash Widget Structure.
 680:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 681:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *******************************************************************************/
 682:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** void CapSense_DpFindLocalMaxDd(
 683:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         CapSense_FLASH_WD_STRUCT const *ptrFlashWdgt)
 684:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** {
 685:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     CapSense_RAM_WD_CSX_TOUCHPAD_STRUCT *ptrWidgetRam = ptrFlashWdgt->ptr2WdgtRam;
 686:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     CapSense_RAM_SNS_STRUCT *ptrSensor =  ptrFlashWdgt->ptr2SnsRam;
 687:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint16 signalThreshold = (uint16)ptrWidgetRam->fingerTh - ptrWidgetRam->hysteresis;
 688:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint16 currDiff;
 689:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint8 rx;
 690:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint8 tx;
 691:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint8 snsShift;
 692:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint8 lastRx = ptrFlashWdgt->numCols - 1u;
 693:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint8 lastTx = ptrFlashWdgt->numRows - 1u;
 694:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint32 proceed = 0u;
 695:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 696:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     /* Initialize new touches structure */
 697:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     ptrNewTouches->touchNum = 0u;
 698:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 699:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     /* Go through all Rx electrodes */
 700:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     for (rx = 0u; rx <= lastRx; rx++)
 701:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     {
 702:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Go through all Tx and RX(changed above) electrodes intersections and check if local maxi
 703:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         for (tx = 0u; tx <= lastTx; tx++)
 704:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
 705:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             proceed = 0u;
 706:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 707:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             currDiff = ptrSensor->diff;
 708:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 709:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             if (currDiff < signalThreshold)
 710:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
 711:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 proceed = 1u;
 712:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
 713:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 714:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             /* 
 715:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             * Check local maximum requirement: Comparing raw count of a local maximum candidate wit
 716:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             * raw counts of sensors from the previous row.
 717:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             */
 718:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             if ((0u == proceed) && (rx > 0u))
 719:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
 720:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 /* Sensor(i-1, j+1) */
 721:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 snsShift = lastTx;
 722:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 723:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 if ((tx < lastTx) && (currDiff <= (ptrSensor - snsShift)->diff))
 724:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 {
 725:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     proceed = 1u;
 726:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 }
 727:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 728:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 if (0u == proceed)
 729:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 {
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 20


 730:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     /* Sensor(i-1, j) */
 731:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     snsShift++;
 732:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 733:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     if (currDiff <= (ptrSensor - snsShift)->diff)
 734:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     {
 735:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         proceed = 1u;
 736:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     }
 737:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 }
 738:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 739:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 if (0u == proceed)
 740:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 {
 741:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     /* Sensor(i-1, j-1) */
 742:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     snsShift++;
 743:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 744:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     if ((tx > 0u) && (currDiff <= (ptrSensor - snsShift)->diff))
 745:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     {
 746:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         proceed = 1u;
 747:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     }
 748:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 }
 749:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
 750:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 751:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             /* 
 752:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             * Check local maximum requirement: Comparing raw count of a local maximum candidate wit
 753:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             * raw counts of sensors from the next row.
 754:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             */
 755:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             if ((0u == proceed) && (rx < lastRx))
 756:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
 757:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 /* Sensor(i+1, j+1) */
 758:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 snsShift = lastTx + 2u;
 759:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 760:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 if ((tx < lastTx) && (currDiff < (ptrSensor + snsShift)->diff))
 761:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 {
 762:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     proceed = 1u;
 763:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 }
 764:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 765:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 if (0u == proceed)
 766:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 {
 767:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     /* Sensor(i+1, j) */
 768:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     snsShift--;
 769:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 770:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     if (currDiff < (ptrSensor + snsShift)->diff)
 771:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     {
 772:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         proceed = 1u;
 773:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     }
 774:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 }
 775:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 776:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 if (0u == proceed)
 777:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 {
 778:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     /* Sensor(i+1, j-1) */
 779:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     snsShift--;
 780:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 781:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     if ((tx > 0u) && (currDiff < (ptrSensor + snsShift)->diff))
 782:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     {
 783:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         proceed = 1u;
 784:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     }
 785:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 }
 786:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 21


 787:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 788:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             /* 
 789:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             * Check local maximum requirement: Comparing raw count of a local maximum candidate wit
 790:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             * raw counts of sensors from the same row
 791:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             * Sensor(i, j+1) 
 792:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             */
 793:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             if ((0u == proceed) && (tx < lastTx))
 794:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
 795:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 if (currDiff < (ptrSensor + 1u)->diff)
 796:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 {
 797:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     proceed = 1u;
 798:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 }
 799:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
 800:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 801:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             /* Sensor(i, j-1) */
 802:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             if ((0u == proceed) && (tx > 0u))
 803:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
 804:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 if (currDiff <= (ptrSensor - 1u)->diff)
 805:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 {
 806:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     proceed = 1u;
 807:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 }
 808:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
 809:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 810:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             /* Add local maximum to the touch structure if there is a room */
 811:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             if ((0u == proceed) && (ptrNewTouches->touchNum < CapSense_CSX_MAX_LOCAL_PEAKS))
 812:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
 813:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 ptrNewTouches->touch[ptrNewTouches->touchNum].x = rx;
 814:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 ptrNewTouches->touch[ptrNewTouches->touchNum].y = tx;
 815:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 816:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 ptrNewTouches->touch[ptrNewTouches->touchNum].rawCount = currDiff;
 817:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 ptrNewTouches->touchNum++;
 818:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
 819:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 820:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             ptrSensor++;
 821:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
 822:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     }
 823:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** }
 824:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 825:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 826:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** /*******************************************************************************
 827:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * Function Name: CapSense_DpCalcTouchPadCentroid
 828:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** ****************************************************************************//**
 829:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 830:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \brief
 831:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Calculates the position for each local maximum using the 3x3 algorithm.
 832:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 833:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \details
 834:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *  Stores a result in the structure pointed by ptr2CsxTouchpad at the same
 835:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *  fields as the column/row number.
 836:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 837:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param ptrFlashWdgt The pointer to the Flash Widget Structure.
 838:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 839:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *******************************************************************************/
 840:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** void CapSense_DpCalcTouchPadCentroid(
 841:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         CapSense_FLASH_WD_STRUCT const *ptrFlashWdgt)
 842:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** {
 843:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     CapSense_RAM_SNS_STRUCT *ptrSensor =  ptrFlashWdgt->ptr2SnsRam;
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 22


 844:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint8 number;
 845:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint8 i;
 846:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint8 j;
 847:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint8 lastRx = ptrFlashWdgt->numCols - 1u;
 848:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint8 lastTx = ptrFlashWdgt->numRows - 1u;
 849:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint16 centroid[3u][3u];
 850:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     int32 weightedSumX;
 851:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     int32 weightedSumY;
 852:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint32 totalSum;
 853:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 854:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     for(number = 0u; number < ptrNewTouches->touchNum; number++)
 855:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     {
 856:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Set the sensor pointer to the local maximum sensor */
 857:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         ptrSensor =  ptrFlashWdgt->ptr2SnsRam;
 858:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         ptrSensor += (ptrNewTouches->touch[number].y + (ptrNewTouches->touch[number].x * ptrFlashWd
 859:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 860:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Prepare 3x3 centroid two dimensional array */
 861:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Fill each row */
 862:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         for (i = 0u; i < CapSense_CSX_TOUCHPAD_CENTROID_LENGTH; i++)
 863:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
 864:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             /* The first  condition could be valid only when local max on the first row (0 row) of 
 865:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****              * The second condition could be valid only when local max on the last row of Touchpad
 866:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****              * Then corresponding row (zero or the last) of 3x3 array is initialized to 0u */
 867:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             if (((((int32)ptrNewTouches->touch[number].x - 1) + (int32)i) < 0) ||
 868:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 ((((int32)ptrNewTouches->touch[number].x - 1) + (int32)i) > (int32)lastRx))
 869:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
 870:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 centroid[CapSense_CSX_TOUCHPAD_CENTROID_PREVIOUS][i] = 0u;
 871:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 centroid[CapSense_CSX_TOUCHPAD_CENTROID_CENTER][i] = 0u;
 872:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 centroid[CapSense_CSX_TOUCHPAD_CENTROID_NEXT][i] = 0u;
 873:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
 874:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             else
 875:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
 876:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 /* Fill each column */
 877:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 for (j = 0u; j < CapSense_CSX_TOUCHPAD_CENTROID_LENGTH; j++)
 878:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 {
 879:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     /* The first  condition could be valid only when local max on the first column 
 880:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                      * The second condition could be valid only when local max on the last column o
 881:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                      * Then corresponding column (zero or the last) of 3x3 array is initialized to 
 882:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     if (((((int32)ptrNewTouches->touch[number].y - 1) + (int32)j) < 0) ||
 883:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         ((((int32)ptrNewTouches->touch[number].y - 1) + (int32)j) > (int32)lastTx))
 884:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     {
 885:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         centroid[j][i] = 0u;
 886:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     }
 887:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     else
 888:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     {
 889:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         centroid[j][i] = (uint16)(ptrSensor + (((i - 1u) * ptrFlashWdgt->numRows) +
 890:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     }
 891:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 }
 892:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
 893:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
 894:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 895:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         weightedSumX = 0;
 896:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         weightedSumY = 0;
 897:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         totalSum = 0u;
 898:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 899:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Calculate centroid */
 900:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         for (i = 0u; i < CapSense_CSX_TOUCHPAD_CENTROID_LENGTH; i++)
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 23


 901:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
 902:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             for (j = 0u; j < CapSense_CSX_TOUCHPAD_CENTROID_LENGTH; j++)
 903:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
 904:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 totalSum += centroid[i][j];
 905:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 weightedSumX += (int32)centroid[i][j] * ((int32)j - 1);
 906:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 weightedSumY += (int32)centroid[i][j] * ((int32)i - 1);
 907:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
 908:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
 909:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 910:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* The X position is calculated.
 911:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         * The weightedSumX value depends on a finger position shifted regarding the X electrode (pt
 912:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         * The multiplier ptrFlashWdgt->xCentroidMultiplier is a short from:
 913:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         * CapSense_TOUCHPAD0_X_RESOLUTION * 256u) / (CapSense_TOUCHPAD0_NUM_RX - CONFIG))
 914:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         * where CONFIG = 0 or 1 depends on TouchpadMultiplerMethod parameter
 915:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         */
 916:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         weightedSumX = ((weightedSumX * (int32)ptrFlashWdgt->xCentroidMultiplier) / (int32)totalSum
 917:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         ((int32)ptrNewTouches->touch[number].x * (int32)ptrFlashWdgt->xCentroidMult
 918:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Position correction for half of a sensor */
 919:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         #if (CapSense_ENABLE == CapSense_TOUCHPAD_MULT_METHOD)
 920:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             weightedSumX += (((int32)ptrFlashWdgt->xCentroidMultiplier) / 2);
 921:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         #endif
 922:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 923:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* The X position is rounded to the nearest integer value and normalized to the resolution 
 924:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         ptrNewTouches->touch[number].x = LO16(((uint32)weightedSumX + CapSense_CENTROID_ROUND_VALUE
 925:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 926:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* The Y position is calculated.
 927:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         * The weightedSumY value depends on a finger position shifted regarding the Y electrode (pt
 928:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         * The multiplier ptrFlashWdgt->yCentroidMultiplier is a short from:
 929:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         * CapSense_TOUCHPAD0_Y_RESOLUTION * 256u) / (CapSense_TOUCHPAD0_NUM_TX - CONFIG))
 930:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         * where CONFIG = 0 or 1 depends on TouchpadMultiplerMethod parameter
 931:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         */
 932:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         weightedSumY = ((weightedSumY * (int32)ptrFlashWdgt->yCentroidMultiplier) / (int32)totalSum
 933:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         ((int32)ptrNewTouches->touch[number].y * (int32)ptrFlashWdgt->yCentroidMult
 934:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Position correction for half of a sensor */
 935:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         #if (CapSense_ENABLE == CapSense_TOUCHPAD_MULT_METHOD)
 936:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             weightedSumY += (((int32)ptrFlashWdgt->yCentroidMultiplier) / 2);
 937:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         #endif
 938:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 939:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* The Y position is rounded to the nearest integer value and normalized to the resolution 
 940:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         ptrNewTouches->touch[number].y = LO16(((uint32)weightedSumY + CapSense_CENTROID_ROUND_VALUE
 941:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 942:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* The z value is a sum of raw counts of sensors that form 3x3 matrix with a local maximum 
 943:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         ptrNewTouches->touch[number].z = LO8(totalSum >> CapSense_CSX_TOUCHPAD_Z_SHIFT);
 944:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     }
 945:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** }
 946:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 947:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 948:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** /*******************************************************************************
 949:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * Function Name: CapSense_DpTouchTracking
 950:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** ****************************************************************************//**
 951:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 952:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \brief
 953:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Tracks the found touches:
 954:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *    - associates them with previous touches (DistanceMap, Hungarian)
 955:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *    - applies the position filters
 956:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *    - suppresses excessive touches
 957:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 24


 958:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \details
 959:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *  The final touch data is placed into a structure pointed by the ptr2CsxTouchpad
 960:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *  member of the Flash Widget Structure.
 961:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 962:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param ptrFlashWdgt The pointer to the Flash Widget Structure.
 963:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
 964:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *******************************************************************************/
 965:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** void CapSense_DpTouchTracking(
 966:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         CapSense_FLASH_WD_STRUCT const *ptrFlashWdgt)
 967:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** {
 968:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     CapSense_RAM_WD_CSX_TOUCHPAD_STRUCT *ptrWidgetRam = ptrFlashWdgt->ptr2WdgtRam;
 969:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     CapSense_CSX_TOUCHPAD_DATA_STRUCT *ptrOldTouches = ptrFlashWdgt->ptr2CsxTouchpad;
 970:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     CapSense_CSX_TOUCHPAD_DISTANCE_MAP *distanceMap;
 971:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     int8 *fingerPosIndex;
 972:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     static int8 touchPadBuffer[CapSense_CSX_TOUCHPAD_BUFFER_SIZE];
 973:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint32 i;
 974:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint8 newTouchNum = ptrNewTouches->touchNum;
 975:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint16 fingerOnThreshold = (uint16)ptrWidgetRam->fingerTh + ptrWidgetRam->hysteresis;
 976:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 977:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     if ((0u != newTouchNum) || (0u != ptrOldTouches->touchNum))
 978:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     {
 979:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Initialize variables */
 980:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         newActiveIDs = 0u;
 981:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Getting active touch IDs from previous scan */
 982:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         oldActiveIDs = 0u;
 983:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         for (i = 0u; i < ptrOldTouches->touchNum; i++)
 984:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
 985:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             oldActiveIDs |= (uint8)(1u << ptrOldTouches->touch[i].id);
 986:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
 987:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 988:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Set up the fingerPosIndex to the head of scratch buffer. It will be used to hold associa
 989:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         fingerPosIndex = touchPadBuffer;
 990:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 991:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* This is a int32 matrix sized MAX_LOCAL_PEAKS x MAX_LOCAL_PEAKS. Make sure its start addr
 992:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         distanceMap = (CapSense_CSX_TOUCHPAD_DISTANCE_MAP *)
 993:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                       (((uint32)touchPadBuffer + (CapSense_CSX_MAX_LOCAL_PEAKS + CapSense_CSX_TOUCH
 994:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         (uint32)~CapSense_CSX_TOUCHPAD_PADDING);
 995:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
 996:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         if (0u < newTouchNum)
 997:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
 998:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             for (i = CapSense_CSX_MAX_LOCAL_PEAKS; i-- > 0u;)
 999:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
1000:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 /* Set all new touches structure array members as not assigned */
1001:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 ptrNewTouches->touch[i].id = CapSense_CSX_TOUCHPAD_UNDEFINED;
1002:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
1003:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1004:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             if (0u == ptrOldTouches->touchNum)
1005:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
1006:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 /* If the previous touch tracking had not any touches. */
1007:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 for (i = 0u; i < newTouchNum; i++)
1008:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 {
1009:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     /* Initializes a new touch, set ID to next value and Age to 0. */
1010:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     CapSense_NewTouch(i, ptrWidgetRam->onDebounce, fingerOnThreshold);
1011:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 }
1012:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
1013:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             else
1014:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 25


1015:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 /* General case */
1016:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 if (newTouchNum >= ptrOldTouches->touchNum)
1017:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 {
1018:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     if ((1u == newTouchNum) && (1u == ptrOldTouches->touchNum))
1019:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     {
1020:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         /* Don't call Hungarian for 1 current and 1 previous touch. */
1021:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         fingerPosIndex[0u] = 0;
1022:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     }
1023:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     else
1024:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     {
1025:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         /* Calculating and filling Distance Map array. */
1026:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         CapSense_FillDistanceMap(distanceMap, ptrOldTouches);
1027:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1028:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         /* Call Hungarian method procedure. */
1029:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         CapSense_Hungarian(newTouchNum, ptrOldTouches->touchNum, fingerPosIndex, di
1030:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     }
1031:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1032:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     for (i = 0u; i < ptrOldTouches->touchNum; i++)
1033:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     {
1034:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         if (ptrWidgetRam->velocity <
1035:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             CapSense_CalcDistance((uint32)fingerPosIndex[i], i, ptrOldTouches))
1036:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         {
1037:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             /* Set new ID and reset Age. */
1038:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             CapSense_NewTouch((uint32)fingerPosIndex[i], ptrWidgetRam->onDebounce, 
1039:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         }
1040:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         else
1041:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         {
1042:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             /* Set ID to previous value and increase Age. */
1043:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             newActiveIDs |= (uint8)(1u << (ptrOldTouches->touch[i].id));
1044:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             CapSense_TransferTouch((uint32)fingerPosIndex[i], i, ptrOldTouches);
1045:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         }
1046:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     }
1047:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1048:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     /* Added new fingers, they need to assign ID. */
1049:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     if (newTouchNum > ptrOldTouches->touchNum)
1050:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     {
1051:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         /* Search new fingers. */
1052:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         for (i = 0u; i < newTouchNum; i++)
1053:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         {
1054:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             /* New finger found. */
1055:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             if (ptrNewTouches->touch[i].id == CapSense_CSX_TOUCHPAD_UNDEFINED)
1056:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             {
1057:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                                 CapSense_NewTouch(i, ptrWidgetRam->onDebounce, fingerOnThreshold);
1058:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             }
1059:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         }
1060:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     }
1061:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 }
1062:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 else
1063:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 {
1064:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     /* newTouchNum is less than ptrOldTouches->touchNum */
1065:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1066:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     /* Calculating and filling Distance Map array. */
1067:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     CapSense_FillDistanceMap(distanceMap, ptrOldTouches);
1068:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1069:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     /* Call Hungarian method procedure. */
1070:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     CapSense_Hungarian(ptrOldTouches->touchNum, newTouchNum, fingerPosIndex, distan
1071:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 26


1072:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     for (i = 0u; i < newTouchNum; i++)
1073:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     {
1074:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         if (ptrWidgetRam->velocity <
1075:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             CapSense_CalcDistance(i, (uint32)fingerPosIndex[i], ptrOldTouches))
1076:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         {
1077:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             /* Set new ID and reset Age. */
1078:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             CapSense_NewTouch(i, ptrWidgetRam->onDebounce, fingerOnThreshold);
1079:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         }
1080:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         else
1081:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         {
1082:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             /* Set ID to previous value and increase Age. */
1083:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             newActiveIDs |= (uint8)(1u << (ptrOldTouches->touch[i].id));
1084:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             CapSense_TransferTouch(i, (uint32)fingerPosIndex[i], ptrOldTouches);
1085:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         }
1086:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     }
1087:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 }
1088:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
1089:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1090:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             CapSense_TouchDownDebounce();
1091:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
1092:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1093:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         #if CapSense_OFF_DEBOUNCE_EN
1094:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             CapSense_LiftOffDebounce(ptrWidgetRam->offDebounce, ptrOldTouches);
1095:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         #endif
1096:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1097:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         if ((ptrNewTouches->touchNum >= 1u) || (ptrOldTouches->touchNum != 0u))
1098:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
1099:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             CapSense_SortByAge();
1100:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
1101:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1102:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Store new touches as old touches */
1103:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         for (i = ptrNewTouches->touchNum; i-- > 0u;)
1104:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
1105:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             CapSense_CopyTouchRecord(&ptrOldTouches->touch[i], &ptrNewTouches->touch[i]);
1106:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
1107:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1108:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         ptrOldTouches->touchNum = ptrNewTouches->touchNum;
1109:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1110:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Save ID allocation masks for usage in the next iteration. */
1111:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         oldActiveIDs = newActiveIDs;
1112:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     }
1113:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****  }
1114:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1115:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1116:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** /*******************************************************************************
1117:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * Function Name: CapSense_TransferTouch
1118:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** ****************************************************************************//**
1119:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1120:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \brief
1121:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Copies ID, increments age and decrements debounce(if debounce > 0) parameters
1122:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   for the new touch that has been detected also in the old touches.
1123:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1124:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \details
1125:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Copies ID, increments age and decrements debounce(if debounce > 0) parameters
1126:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   for the new touch that has been detected also in the old touches.
1127:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1128:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param newIndex The touch index of touch array in the new touches structure.
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 27


1129:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param oldIndex The touch index of touch array in the old touches structure.
1130:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param ptrOldTouches The pointer to the old touches structure.
1131:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1132:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *******************************************************************************/
1133:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** static void CapSense_TransferTouch(
1134:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             uint32 newIndex, uint32 oldIndex, CapSense_CSX_TOUCHPAD_DATA_STRUCT *pt
1135:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** {
1136:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     ptrNewTouches->touch[newIndex].id = ptrOldTouches->touch[oldIndex].id;
1137:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1138:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     ptrNewTouches->touch[newIndex].age = ptrOldTouches->touch[oldIndex].age + 1u;
1139:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1140:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     /* Decrement debounce counter if the touch in touch down ot lift off stage (debounce counter > 
1141:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     if (0u != (ptrOldTouches->touch[oldIndex].debounce & CapSense_CSX_TOUCHPAD_DEBOUNCE_MASK))
1142:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     {
1143:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         ptrNewTouches->touch[newIndex].debounce = ptrOldTouches->touch[oldIndex].debounce - 1u;
1144:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     }
1145:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     else
1146:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     {
1147:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         ptrNewTouches->touch[newIndex].debounce = ptrOldTouches->touch[oldIndex].debounce;
1148:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     }
1149:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** }
1150:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1151:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1152:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** /*******************************************************************************
1153:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * Function Name: CapSense_NewTouch
1154:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** ****************************************************************************//**
1155:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1156:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \brief
1157:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Set ID, age and on debounce parameters for a new touch.
1158:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1159:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \details
1160:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Raw count of a local maximum has to be higher than fingerOnThreshold threshold
1161:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   so the new touch is accepted. If raw count is lower than the fingerOnThreshold
1162:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   than corresponding touch is marked with CapSense_CSX_TOUCHPAD_FT_ON_FAIL
1163:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   ID and will be deleted from new touches structure in CapSense_SortByAge()
1164:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   (new touches structure is reorganized in this case).
1165:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1166:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param newIndex The touch index of touch array in the new touches structure.
1167:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param onDebounce Counter value for touch down procedure.
1168:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param fingerOnThreshold The finger ON threshold (finger threshold + hysteresis)
1169:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1170:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *******************************************************************************/
1171:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** static void CapSense_NewTouch(uint32 newIndex, uint8 onDebounce, uint16 fingerOnThreshold)
1172:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** {
1173:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint32 idx;
1174:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1175:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     /* Touch is not accepted */
1176:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     if (ptrNewTouches->touch[newIndex].rawCount < fingerOnThreshold)
1177:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     {
1178:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         ptrNewTouches->touch[newIndex].id = CapSense_CSX_TOUCHPAD_FT_ON_FAIL;
1179:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     }
1180:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     else
1181:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     {
1182:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Create a bit map of ID's currently used and previously used and search for the new lowes
1183:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         idx = CapSense_GetLowestId(((uint16)oldActiveIDs | (uint16)newActiveIDs));
1184:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1185:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Indicate that ID is now taken */
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 28


1186:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         newActiveIDs |= (uint8)(1u << idx);
1187:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1188:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Set the ID */
1189:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         ptrNewTouches->touch[newIndex].id = LO8(idx);
1190:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1191:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Set the age */
1192:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         ptrNewTouches->touch[newIndex].age = 1u;
1193:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1194:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* New Finger goes through touchdown debounce procedure if required */
1195:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         ptrNewTouches->touch[newIndex].debounce = onDebounce | CapSense_CSX_TOUCHPAD_TOUCH_DOWN;
1196:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     }
1197:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** }
1198:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1199:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1200:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** /*******************************************************************************
1201:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * Function Name: CapSense_GetLowestId
1202:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** ****************************************************************************//**
1203:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1204:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \brief
1205:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Returns the lowest available touch ID.
1206:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1207:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \details
1208:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Returns the lowest available touch ID.
1209:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1210:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param idMask The mask of IDs used in new and old touches.
1211:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1212:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \return   Returns the lowest available touch ID. If no ID was available,
1213:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *           CapSense_CSX_TOUCHPAD_TOUCH_ABSENT_ID is returned.
1214:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1215:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *******************************************************************************/
1216:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** CY_INLINE static uint8 CapSense_GetLowestId(uint16 idMask)
1217:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** {
1218:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint32 idx;
1219:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint32 touchId = CapSense_CSX_TOUCHPAD_TOUCH_ABSENT_ID;
1220:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1221:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     /* Search for the lowest available ID. */
1222:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     idMask >>= CapSense_CSX_TOUCHPAD_TOUCH_MIN_ID;
1223:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1224:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     for (idx = CapSense_CSX_TOUCHPAD_TOUCH_MIN_ID; idx <= CapSense_CSX_TOUCHPAD_TOUCH_MAX_ID; idx++
1225:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     {
1226:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Determine if the new ID is available. */
1227:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         if (0u == (idMask & 1u))
1228:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
1229:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             touchId = idx;
1230:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             break;
1231:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
1232:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1233:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         idMask >>= 1u;
1234:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     }
1235:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1236:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     /* Return an indicator of failure. */
1237:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     return (uint8)(touchId);
1238:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** }
1239:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1240:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1241:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** /*******************************************************************************
1242:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * Function Name: CapSense_TouchDownDebounce
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 29


1243:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** ****************************************************************************//**
1244:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1245:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \brief
1246:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Handles touch down de-bouncing.
1247:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1248:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \details
1249:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Even if a new touch is detected it is not considered as active until
1250:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   on debounce counter has not reached zero. If on debounce counter has reached zero
1251:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   the touch down mask is cleared. Otherwise the age of the new finger is cleared
1252:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   (it is considered as not active)
1253:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1254:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *******************************************************************************/
1255:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** CY_INLINE static void CapSense_TouchDownDebounce(void)
1256:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** {
1257:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint32 i;
1258:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1259:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     for (i = 0u; i < ptrNewTouches->touchNum; i++)
1260:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     {
1261:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* If it is a touchdown debouncing finger its age is set to zero */
1262:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         if (0u != (ptrNewTouches->touch[i].debounce & CapSense_CSX_TOUCHPAD_TOUCH_DOWN))
1263:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
1264:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             if ((ptrNewTouches->touch[i].debounce & CapSense_CSX_TOUCHPAD_DEBOUNCE_MASK) <= 1u)
1265:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
1266:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 /* If debounce counter reached zero than touch down stage
1267:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                  * is finished and corresponding mask is cleared
1268:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                  */
1269:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 ptrNewTouches->touch[i].debounce &=
1270:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     (uint8)~(CapSense_CSX_TOUCHPAD_TOUCH_DOWN | CapSense_CSX_TOUCHPAD_DEBOUNCE_MASK
1271:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
1272:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             else
1273:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
1274:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 /* Set the age to zero - finger is not active */
1275:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 ptrNewTouches->touch[i].age = 0u;
1276:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
1277:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
1278:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     }
1279:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** }
1280:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1281:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1282:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #if (0u != CapSense_OFF_DEBOUNCE_EN)
1283:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** /*******************************************************************************
1284:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * Function Name: CapSense_LiftOffDebounce
1285:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** ****************************************************************************//**
1286:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1287:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \brief
1288:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Handles lift off de-bouncing.
1289:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1290:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \details
1291:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Even if a touch is not present in new touches, but present in old
1292:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   touches this means it is lift off event. This touch is considered as active and
1293:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   is added to new touches structure until the offDebounce counter reaches zero.
1294:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   The offDebounce counter is set when lift off event is detected and is decremented
1295:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   each time the CapSense_LiftOffDebounce() API is called.
1296:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1297:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param offDebounce   The off debounce counter value.
1298:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param ptrOldTouches The pointer to the old touches structure.
1299:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 30


1300:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *******************************************************************************/
1301:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** CY_INLINE static void CapSense_LiftOffDebounce(uint8 offDebounce,
1302:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                                                        CapSense_CSX_TOUCHPAD_DATA_STRUCT *ptrOldTou
1303:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** {
1304:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint32 i;
1305:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint8 liftOffMask = (uint8)(~newActiveIDs) & oldActiveIDs;
1306:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1307:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     if(liftOffMask != 0u)
1308:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     {
1309:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         for (i = 0u; i < ptrOldTouches->touchNum; i++)
1310:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
1311:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             /*
1312:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****              * The old touch is not found in the new touches.
1313:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****              * Lift off procedure starts and the old touch is copied to the new touches if there is
1314:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****              */
1315:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1316:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             if (((uint8)(0x01u << ptrOldTouches->touch[i].id) & liftOffMask) != 0u)
1317:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
1318:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 /* If there is a room in new touches structure and the old touch is not under touch
1319:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 if ((ptrNewTouches->touchNum < CapSense_CSX_MAX_LOCAL_PEAKS) &&
1320:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     (0u == (ptrOldTouches->touch[i].debounce & CapSense_CSX_TOUCHPAD_TOUCH_DOWN)))
1321:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 {
1322:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     /* Lift off debouncing starts if there is not lift off mask in the old touch */
1323:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     if ((ptrOldTouches->touch[i].debounce & CapSense_CSX_TOUCHPAD_LIFT_OFF) == 0u)
1324:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     {
1325:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         ptrOldTouches->touch[i].debounce = offDebounce | CapSense_CSX_TOUCHPAD_LIFT
1326:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1327:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         /* Copy the old finger data to the new one using TransferTouch API to manag
1328:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         CapSense_TransferTouch((uint32)ptrNewTouches->touchNum, i, ptrOldTouches);
1329:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         ptrNewTouches->touch[ptrNewTouches->touchNum].x = ptrOldTouches->touch[i].x
1330:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         ptrNewTouches->touch[ptrNewTouches->touchNum].y = ptrOldTouches->touch[i].y
1331:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         ptrNewTouches->touch[ptrNewTouches->touchNum].z = ptrOldTouches->touch[i].z
1332:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         ptrNewTouches->touch[ptrNewTouches->touchNum].rawCount = ptrOldTouches->tou
1333:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         ptrNewTouches->touchNum++;
1334:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     }
1335:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     else
1336:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     {
1337:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         /* Check whether debounce counter is reached zero if there is a lift off ma
1338:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                        if ((ptrOldTouches->touch[i].debounce & CapSense_CSX_TOUCHPAD_DEBOUNCE_MASK)
1339:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                        {
1340:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             /* Clear lift off mask if debounce counter has reached zero */
1341:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             ptrOldTouches->touch[i].debounce &= (uint8)~CapSense_CSX_TOUCHPAD_LIFT_
1342:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                        }
1343:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                        else
1344:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                        {
1345:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             /* Copy the old finger data to the new one using TransferTouch API to m
1346:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             CapSense_TransferTouch((uint32)ptrNewTouches->touchNum, i, ptrOldTouche
1347:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             ptrNewTouches->touch[ptrNewTouches->touchNum].x = ptrOldTouches->touch[
1348:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             ptrNewTouches->touch[ptrNewTouches->touchNum].y = ptrOldTouches->touch[
1349:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             ptrNewTouches->touch[ptrNewTouches->touchNum].z = ptrOldTouches->touch[
1350:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             ptrNewTouches->touch[ptrNewTouches->touchNum].rawCount = ptrOldTouches-
1351:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             ptrNewTouches->touchNum++;
1352:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                        }
1353:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     }
1354:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 }
1355:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
1356:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 31


1357:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     }
1358:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** }
1359:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #endif /* (0u != CapSense_OFF_DEBOUNCE_EN) */
1360:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1361:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** /*******************************************************************************
1362:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * Function Name: CapSense_CalcDistance
1363:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** ****************************************************************************//**
1364:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1365:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \brief
1366:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Calculates squared distance between old and new touches pointed by the input
1367:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   parameters.
1368:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1369:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \details
1370:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Calculates squared distance between old and new touches pointed by the input
1371:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   parameters.
1372:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1373:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param newIndex      The index of touch in the new touches structure.
1374:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param oldIndex      The index of touch in the old touches structure.
1375:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param ptrOldTouches The pointer to the old touches structure.
1376:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1377:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \return Returns the squared distance.
1378:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1379:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *******************************************************************************/
1380:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** static uint32 CapSense_CalcDistance(uint32 newIndex, uint32 oldIndex,
1381:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                                                       CapSense_CSX_TOUCHPAD_DATA_STRUCT *ptrOldTouc
1382:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** {
1383:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     int32 result;
1384:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     int32 xDistance = (int32)(ptrOldTouches->touch[oldIndex].x) - (int32)(ptrNewTouches->touch[newI
1385:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     int32 yDistance = (int32)(ptrOldTouches->touch[oldIndex].y) - (int32)(ptrNewTouches->touch[newI
1386:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1387:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     result = ((xDistance * xDistance) + (yDistance *yDistance));
1388:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     return (uint32)result;
1389:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** }
1390:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1391:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1392:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** /*******************************************************************************
1393:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * Function Name: CapSense_FillDistanceMap
1394:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** ****************************************************************************//**
1395:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1396:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \brief
1397:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Populates the distance map used for the Hungarian method with distance
1398:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   squared values.
1399:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1400:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \details
1401:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Distance squared is used instead of distance to eliminate square root
1402:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   calculation, which requires a lot of execution time.
1403:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1404:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param distanceMap   The pointer to a 2-dimensional array of int32's
1405:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *                          with dimensions CapSense_CSX_MAX_LOCAL_PEAKS x
1406:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *                          CapSense_CSX_MAX_LOCAL_PEAKS
1407:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param ptrOldTouches The pointer to the old touches structure.
1408:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1409:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \return The contents of distanceMap[][] are modified.
1410:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1411:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *******************************************************************************/
1412:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** static void CapSense_FillDistanceMap(CapSense_CSX_TOUCHPAD_DISTANCE_MAP *distanceMap,
1413:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                                              CapSense_CSX_TOUCHPAD_DATA_STRUCT *ptrOldTouches)
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 32


1414:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** {
1415:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint32 i;
1416:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint32 j;
1417:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1418:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     if (ptrNewTouches->touchNum >= ptrOldTouches->touchNum)
1419:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     {
1420:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         for (i = ptrNewTouches->touchNum; i-- > 0u; )
1421:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
1422:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             for (j = ptrOldTouches->touchNum; j-- > 0u; )
1423:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
1424:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 distanceMap[i][j] = (int32)CapSense_CalcDistance(i, j, ptrOldTouches);
1425:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
1426:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
1427:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     }
1428:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     else
1429:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     {
1430:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         for (i = ptrOldTouches->touchNum; i-- > 0u;)
1431:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
1432:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             for (j = ptrNewTouches->touchNum; j-- > 0u;)
1433:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
1434:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 distanceMap[i][j] = (int32)CapSense_CalcDistance(j, i, ptrOldTouches);
1435:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
1436:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
1437:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     }
1438:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** }
1439:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1440:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1441:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** /*******************************************************************************
1442:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * Function Name: CapSense_Hungarian
1443:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** ****************************************************************************//**
1444:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1445:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \brief
1446:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Executes the Hungarian Method on a distance map to track motion of two touch sets
1447:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   (old touches vs new touches)
1448:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1449:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \details
1450:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   This function uses the Hungarian method described in specification 001-63362.
1451:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   There is no bounds checking on the parameters. It is the calling function's
1452:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   responsibility to ensure parameter validity.
1453:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1454:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param rowCount       Number of elements in row of distanceMap matrix. This value must be
1455:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *                       greater than or equal to colCount.
1456:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param colCount       Number of elements in column of distanceMap matrix.This value must
1457:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *                       be greater than or equal to 1.
1458:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param fingerPosIndex The pointer to an array where associations between the
1459:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *                             previous and current touches are returned.
1460:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param distanceMap    The 2-dimensional map of distances between the nodes in each
1461:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *                          coordinate set. The 1st index of distanceMap corresponds to nodes
1462:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *                          in the 1st coordinate data set, and the 2nd index of distanceMap
1463:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *                          corresponds to the 2nd coordinate data set. Each element in
1464:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *                          distanceMap is the square of the distance between the
1465:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *                          corresponding coordinates in the 1st and 2nd data set.
1466:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1467:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1468:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \return Returns fingerPosIndex, the associations between the 1st and 2nd coordinate set are
1469:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *                          returned in the array referenced by this pointer. It is indexed
1470:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *                          by the 2nd coordinate set, and its elements are the corresponding
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 33


1471:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *                          index in the 1st coordinate set.
1472:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1473:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *******************************************************************************/
1474:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** static void CapSense_Hungarian(uint8 rowCount, uint8 colCount, int8 *fingerPosIndex,
1475:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                              CapSense_CSX_TOUCHPAD_DISTANCE_MAP *distanceMap)
1476:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** {
1477:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     int32 col[CapSense_CSX_MAX_LOCAL_PEAKS];
1478:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     int32 row[CapSense_CSX_MAX_LOCAL_PEAKS];
1479:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     int32 *mins;
1480:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     int32 delta;
1481:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1482:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     int8 *links;
1483:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     int8 *visited;
1484:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     int8 *markIndices;
1485:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1486:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     int32 colValue = 0;
1487:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     int32 markedI = 0;
1488:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     int32 markedJ = 0;
1489:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     int32 i = 0;
1490:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     int32 i1 = 0;
1491:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     int32 j = 0;
1492:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     int32 j1 = 0;
1493:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1494:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     mins = (int32 *)(distanceMap + CapSense_CSX_MAX_LOCAL_PEAKS);
1495:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     links = (int8 *)(mins + CapSense_CSX_MAX_LOCAL_PEAKS);
1496:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     visited = links + CapSense_CSX_MAX_LOCAL_PEAKS;
1497:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     markIndices = visited + CapSense_CSX_MAX_LOCAL_PEAKS;
1498:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1499:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     (void)memset(col, 0, (uint32)colCount * 4u);
1500:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1501:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     /* Initialize row and markIndices arrays */
1502:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     for (i1 = (int32)rowCount; i1-- > 0;)
1503:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     {
1504:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         row[i1] = 0;
1505:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         markIndices[i1] = -1;
1506:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     }
1507:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1508:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     /* Go through all columns */
1509:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     for (i = (int32)colCount; i-- > 0;)
1510:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     {
1511:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Initialize visited, links, mins arrays. They used for every column */
1512:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         for (i1 = (int32)rowCount; i1-- > 0;)
1513:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
1514:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             visited[i1] = 0;
1515:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             links[i1] = -1;
1516:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             mins[i1] = (int32)CapSense_CSX_TOUCHPAD_INT32;
1517:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
1518:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1519:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Next two variables are used to mark column and row */
1520:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         markedI = i;
1521:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         markedJ = -1;
1522:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1523:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         while (markedI != -1)
1524:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
1525:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             j = -1;
1526:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             colValue = col[markedI];
1527:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 34


1528:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             /* Go through all rows */
1529:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             for (j1 = (int32)rowCount; j1-- > 0;)
1530:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
1531:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 if (visited[j1] == 0)
1532:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 {
1533:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     delta = distanceMap[j1][markedI] - row[j1] - colValue;
1534:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1535:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     /* Find the minimum element index in column i */
1536:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     if (mins[j1] > delta)
1537:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     {
1538:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         mins[j1] = delta;
1539:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         links[j1] = (int8)markedJ;
1540:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     }
1541:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1542:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     if ((j == -1) || (mins[j1] < mins[j]))
1543:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     {
1544:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         j = j1;
1545:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     }
1546:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 }
1547:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
1548:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1549:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             delta = mins[j];
1550:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1551:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             /* Go through all row */
1552:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             for (j1 = (int32)rowCount; j1-- > 0;)
1553:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
1554:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 if (visited[j1] != 0)
1555:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 {
1556:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     col[markIndices[j1]] += delta;
1557:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     row[j1] -= delta;
1558:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 }
1559:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 else
1560:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 {
1561:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     mins[j1] -= delta;
1562:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 }
1563:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
1564:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1565:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             col[i] +=  delta;
1566:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1567:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             visited[j] = 1;
1568:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             markedJ = j;
1569:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             markedI = markIndices[j];
1570:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
1571:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1572:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         while (links[j] != -1)
1573:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
1574:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             markIndices[j] = markIndices[links[j]];
1575:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             j = links[j];
1576:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
1577:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1578:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         markIndices[j] = (int8)i;
1579:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     }
1580:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1581:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     /* Provide an association between two sets of touches */
1582:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     for (j = (int32)rowCount; j-- > 0;)
1583:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     {
1584:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         if (markIndices[j] != -1)
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 35


1585:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
1586:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             fingerPosIndex[markIndices[j]] = (int8)j;
1587:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
1588:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     }
1589:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** }
1590:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1591:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1592:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** /*******************************************************************************
1593:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * Function Name: CapSense_SortByAge
1594:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** ****************************************************************************//**
1595:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1596:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \brief
1597:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Sorts the new touches array by age (in decrementing order) and Id (in incrementing order) field
1598:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1599:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \details
1600:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Sorts the new touches array by age (in decrementing order) and Id (in incrementing order) field
1601:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1602:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *******************************************************************************/
1603:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** CY_INLINE static void CapSense_SortByAge(void)
1604:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** {
1605:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint32 i;
1606:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint32 j;
1607:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     CapSense_CSX_TOUCHPAD_PEAK_STRUCT tempTouch;
1608:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint32 newTouchNum = ptrNewTouches->touchNum;
1609:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1610:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     /*
1611:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****      * Delete failed touch by coping(rewriting) the last touch content to the failed touch.
1612:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****      * If the last touch record is invalid try the penult touch record and so on.
1613:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****      */
1614:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1615:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     for (i = 0u; i < newTouchNum; i++)
1616:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     {
1617:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         if (ptrNewTouches->touch[i].id > CapSense_CSX_TOUCHPAD_TOUCH_MAX_ID)
1618:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
1619:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             for (j = (newTouchNum - 1u); j > i; j--)
1620:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
1621:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 /* Check the touch records from the last to the current.
1622:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                  * If the touch record is valid then replace the current touch record
1623:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                  */
1624:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 if (ptrNewTouches->touch[j].id <= CapSense_CSX_TOUCHPAD_TOUCH_MAX_ID)
1625:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 {
1626:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     CapSense_CopyTouchRecord(&ptrNewTouches->touch[i], &ptrNewTouches->touch[j]);
1627:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1628:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     /* Finish the loop. The valid touch record is found and copied down */
1629:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     break;
1630:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 }
1631:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 else
1632:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 {
1633:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     /* Decrement the number of touch records.
1634:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                      * The last touch record is invalid - try the penult touch record
1635:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                      */
1636:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     newTouchNum--;
1637:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 }
1638:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
1639:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1640:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             /* Decrement the number of touch records.
1641:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****              * The last touch record is valid and copied to the current position (i)
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 36


1642:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****              */
1643:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             newTouchNum--;
1644:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
1645:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     }
1646:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1647:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     /* Set new number of touches */
1648:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     ptrNewTouches->touchNum = (uint8)newTouchNum;
1649:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1650:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     /* Sort new touches structure */
1651:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     for (i = 0u; i < newTouchNum; i++)
1652:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     {
1653:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         for (j = (i + 1u); j < newTouchNum; j++)
1654:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
1655:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             /* if next touches have higher age or lower id with the same age then swap touches */
1656:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             if ((ptrNewTouches->touch[i].age < ptrNewTouches->touch[j].age)      ||
1657:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 ((ptrNewTouches->touch[i].age == ptrNewTouches->touch[j].age) &&
1658:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                  (ptrNewTouches->touch[i].id > ptrNewTouches->touch[j].id)))
1659:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             {
1660:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 /* Swap touches */
1661:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 CapSense_CopyTouchRecord(&tempTouch, &ptrNewTouches->touch[i]);
1662:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 CapSense_CopyTouchRecord(&ptrNewTouches->touch[i], &ptrNewTouches->touch[j]);
1663:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 CapSense_CopyTouchRecord(&ptrNewTouches->touch[j], &tempTouch);
1664:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             }
1665:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
1666:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     }
1667:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** }
1668:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1669:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1670:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** /*******************************************************************************
1671:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * Function Name: CapSense_CopyTouchRecord
1672:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** ****************************************************************************//**
1673:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1674:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \brief
1675:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Copies content from the source touch structure to the destination touch structure.
1676:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1677:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \details
1678:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Copies content from the source touch structure to the destination touch structure.
1679:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1680:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param *destination The pointer to the destination touch structure.
1681:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param *source      The pointer to the source touch structure.
1682:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1683:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *******************************************************************************/
1684:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** static void CapSense_CopyTouchRecord(CapSense_CSX_TOUCHPAD_PEAK_STRUCT *destination,
1685:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                                                        CapSense_CSX_TOUCHPAD_PEAK_STRUCT *source)
1686:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** {
1687:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     destination->x        =  source->x;
1688:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     destination->y        =  source->y;
1689:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     destination->z        =  source->z;
1690:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     destination->rawCount =  source->rawCount;
1691:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     destination->id       =  source->id;
1692:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     destination->age      =  source->age;
1693:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     destination->debounce =  source->debounce;
1694:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** }
1695:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1696:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1697:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** /*******************************************************************************
1698:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * Function Name: CapSense_DpFilterTouchRecord
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 37


1699:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** ****************************************************************************//**
1700:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1701:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \brief
1702:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   Filter position data of every valid touch, if there is a room in RAM Widget Data Structure
1703:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *   and update corresponding fields in RAM Widget Data Structure
1704:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1705:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \details
1706:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *  This API checks every touch in the new touches structure if it is valid until there is a room
1707:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *  in the RAM Widget Data Structure (where touch reports are stored). If touch is valid
1708:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *  (valid id and age > 0) then touch is filtered if filter is enabled. At the end the
1709:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *  corresponding fields are updated in the RAM Widget Data Structure.
1710:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1711:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param ptrFlashWdgt The pointer to the Flash Widget Structure.
1712:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1713:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \return The number of reported touches to the RAM Data Structure.
1714:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1715:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *******************************************************************************/
1716:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** uint32 CapSense_DpFilterTouchRecord(CapSense_FLASH_WD_STRUCT const *ptrFlashWdgt)
1717:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** {
1718:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint32 i;
1719:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     uint32 reportedTouchNum = 0u;
1720:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     CapSense_RAM_WD_CSX_TOUCHPAD_STRUCT *ptrWidgetRam = ptrFlashWdgt->ptr2WdgtRam;
1721:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1722:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #if (0u != CapSense_POSITION_FILTER_EN)
1723:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         uint32 oldIdMask = 0u;
1724:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         uint32 j;
1725:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         uint16 filteredX;
1726:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         uint16 filteredY;
1727:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         CapSense_TOUCHPAD_POS_HISTORY_STRUCT *ptrHistory;
1728:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1729:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #endif /* (0u != CapSense_POSITION_FILTER_EN) */
1730:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1731:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #if (0u != CapSense_POSITION_FILTER_EN)
1732:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         ptrHistory = ptrFlashWdgt->ptr2PosHistory;
1733:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Find what Ids were active in the previous report */
1734:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         for (i = 0u; i < CapSense_CSX_MAX_FINGERS; i++)
1735:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
1736:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             oldIdMask |= 0x01Lu << ptrWidgetRam->touch[i].id;
1737:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
1738:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     #endif /* (0u != CapSense_POSITION_FILTER_EN) */
1739:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1740:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     /* Go through all touch fields in RAM Data Structure */
1741:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     for (i = 0u; i < CapSense_CSX_MAX_FINGERS; i++)
1742:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     {
1743:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         /* Check if touch is valid to be reported: age has to be higher than 0. Id has been checked
1744:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         if ((i < ptrNewTouches->touchNum) && (ptrNewTouches->touch[i].age > 0u))
1745:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
1746:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             #if (0u == CapSense_POSITION_FILTER_EN)
1747:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 /* Report touch to the RAM Data Structure if position filter is disabled in general
1748:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 ptrWidgetRam->touch[i].x = ptrNewTouches->touch[i].x;
1749:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 ptrWidgetRam->touch[i].y = ptrNewTouches->touch[i].y;
1750:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 ptrWidgetRam->touch[i].z = ptrNewTouches->touch[i].z;
1751:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 ptrWidgetRam->touch[i].id = ptrNewTouches->touch[i].id;
1752:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             #else
1753:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1754:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 filteredX = ptrNewTouches->touch[i].x;
1755:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 filteredY = ptrNewTouches->touch[i].y;
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 38


1756:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1757:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 /* Initialize position and filter history if the touch has the id that was absent i
1758:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 if (0u == (oldIdMask & (1Lu << ptrNewTouches->touch[i].id)))
1759:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 {
1760:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     ptrWidgetRam->touch[i].x = ptrNewTouches->touch[i].x;
1761:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     ptrWidgetRam->touch[i].y = ptrNewTouches->touch[i].y;
1762:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     ptrWidgetRam->touch[i].z = ptrNewTouches->touch[i].z;
1763:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     ptrWidgetRam->touch[i].id = ptrNewTouches->touch[i].id;
1764:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     if (NULL != ptrHistory)
1765:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     {
1766:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         CapSense_InitPosFiltersDd(&ptrHistory[i], filteredX, filteredY);
1767:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     }
1768:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 }
1769:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 /* Find corresponding position history of the new touch (by id) in the RAW Widget D
1770:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 else
1771:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 {
1772:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     /*
1773:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     * Index <i> addresses new touch array and final reported in data structure arra
1774:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     * Index <j> addresses filter history and previously reported in data structure 
1775:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     *
1776:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     * If new touch appears, then it is always added at the and of arrays, therefore
1777:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     * is safe to overwrite history with new touch.
1778:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     * Another case is moving touch from its previous reported index to new index.
1779:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     * This new index is always lower, so filter history of touch (i-1) was already 
1780:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     * and processed for touch (i-1). Therefore, again, it is safely to copy filter 
1781:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     * from j to i.
1782:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     */
1783:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     for(j = 0u; j < CapSense_CSX_MAX_FINGERS; j++)
1784:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     {
1785:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         if(ptrNewTouches->touch[i].id == ptrWidgetRam->touch[j].id)
1786:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         {
1787:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             CapSense_RunPosFiltersDd(ptrFlashWdgt, i, j, &filteredX, &filteredY);
1788:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1789:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             ptrWidgetRam->touch[i].x = filteredX;
1790:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             ptrWidgetRam->touch[i].y = filteredY;
1791:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             ptrWidgetRam->touch[i].z = ptrNewTouches->touch[i].z;
1792:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                             ptrWidgetRam->touch[i].id = ptrNewTouches->touch[i].id;
1793:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                         }
1794:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     }
1795:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 }
1796:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             #endif
1797:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             reportedTouchNum++;
1798:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
1799:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         else
1800:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         {
1801:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             ptrWidgetRam->touch[i].x = CapSense_CSX_TOUCHPAD_POSITION_NONE;
1802:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             ptrWidgetRam->touch[i].y = CapSense_CSX_TOUCHPAD_POSITION_NONE;
1803:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             ptrWidgetRam->touch[i].z = LO8(CapSense_CSX_TOUCHPAD_POSITION_NONE);
1804:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             ptrWidgetRam->touch[i].id = CapSense_CSX_TOUCHPAD_UNDEFINED;
1805:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1806:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             #if (0u != CapSense_POSITION_FILTER_EN)
1807:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 if (NULL != ptrHistory)
1808:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 {
1809:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     /* Initialize history for non-valid touches */
1810:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                     CapSense_InitPosFiltersDd(&ptrHistory[i], CapSense_CSX_TOUCHPAD_POSITION_NONE, 
1811:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****                 }
1812:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             #endif /* (0u != CapSense_POSITION_FILTER_EN) */
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 39


1813:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         }
1814:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     }
1815:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     return reportedTouchNum;
1816:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** }
1817:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1818:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #endif /* #if CapSense_CSX_TOUCHPAD_WIDGET_EN */
1819:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1820:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** #if (0u != CapSense_POSITION_FILTER_EN)
1821:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** /*******************************************************************************
1822:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * Function Name: CapSense_InitPosFiltersSd
1823:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** ****************************************************************************//**
1824:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1825:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \brief
1826:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *  Writes desired value into single-dimension position filter history.
1827:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1828:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \details
1829:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *  Writes desired value into single-dimension position filter history.
1830:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1831:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param ptrHistory
1832:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *  The pointer to the structure that holds previous historical position value.
1833:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1834:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** * \param value
1835:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *  The desired value to initialize position filters history.
1836:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *
1837:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** *******************************************************************************/
1838:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** void CapSense_InitPosFiltersSd(CapSense_SLIDER_POS_HISTORY_STRUCT *ptrHistory, uint16 value)
1839:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** {
 343              		.loc 1 1839 0
 344              		.cfi_startproc
 345              		@ args = 0, pretend = 0, frame = 0
 346              		@ frame_needed = 0, uses_anonymous_args = 0
 347              		@ link register save eliminated.
 348              	.LVL31:
1840:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     if (NULL != ptrHistory)
 349              		.loc 1 1840 0
 350 0000 0028     		cmp	r0, #0
 351 0002 00D0     		beq	.L21
1841:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     {
1842:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         #if (0u != CapSense_POS_MEDIAN_FILTER_EN)
1843:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             ptrHistory->posMedianZ1 = value;
1844:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             ptrHistory->posMedianZ2 = value;
1845:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         #endif /* #if (0u != CapSense_POS_MEDIAN_FILTER_EN) */
1846:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1847:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         #if (0u != CapSense_POS_IIR_FILTER_EN)
1848:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             ptrHistory->posIIR = value;
 352              		.loc 1 1848 0
 353 0004 0180     		strh	r1, [r0]
 354              	.L21:
1849:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         #endif /* #if (0u != CapSense_POS_IIR_FILTER_EN) */
1850:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1851:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         #if (0u != CapSense_POS_ADAPTIVE_IIR_FILTER_EN)
1852:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             ptrHistory->posAIIR = value;
1853:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         #endif /* (0u != CapSense_POS_ADAPTIVE_IIR_FILTER_EN) */
1854:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1855:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         #if (0u != CapSense_POS_AVERAGE_FILTER_EN)
1856:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             ptrHistory->posAverage = value;
1857:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         #endif /* #if (0u != CapSense_POS_AVERAGE_FILTER_EN) */
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 40


1858:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** 
1859:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         #if (0u != CapSense_POS_JITTER_FILTER_EN)
1860:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****             ptrHistory->posJitter = value;
1861:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****         #endif /* #if (0u != CapSense_POS_JITTER_FILTER_EN) */
1862:Generated_Source\PSoC4/CapSense_Centroid_LL.c ****     }
1863:Generated_Source\PSoC4/CapSense_Centroid_LL.c **** }
 355              		.loc 1 1863 0
 356              		@ sp needed
 357 0006 7047     		bx	lr
 358              		.cfi_endproc
 359              	.LFE4:
 360              		.size	CapSense_InitPosFiltersSd, .-CapSense_InitPosFiltersSd
 361              		.bss
 362              		.align	2
 363              		.set	.LANCHOR0,. + 0
 364              		.type	localMaxIndex, %object
 365              		.size	localMaxIndex, 1
 366              	localMaxIndex:
 367 0000 00       		.space	1
 368 0001 000000   		.space	3
 369              		.type	localMax, %object
 370              		.size	localMax, 1
 371              	localMax:
 372 0004 00       		.space	1
 373 0005 000000   		.space	3
 374              		.type	localDiffArray, %object
 375              		.size	localDiffArray, 6
 376              	localDiffArray:
 377 0008 00000000 		.space	6
 377      0000
 378              		.text
 379              	.Letext0:
 380              		.file 2 "Generated_Source\\PSoC4\\cytypes.h"
 381              		.file 3 "Generated_Source\\PSoC4\\CapSense_Configuration.h"
 382              		.file 4 "Generated_Source\\PSoC4\\CapSense_Structure.h"
 383              		.section	.debug_info,"",%progbits
 384              	.Ldebug_info0:
 385 0000 1B030000 		.4byte	0x31b
 386 0004 0400     		.2byte	0x4
 387 0006 00000000 		.4byte	.Ldebug_abbrev0
 388 000a 04       		.byte	0x4
 389 000b 01       		.uleb128 0x1
 390 000c BE010000 		.4byte	.LASF45
 391 0010 0C       		.byte	0xc
 392 0011 FF020000 		.4byte	.LASF46
 393 0015 20000000 		.4byte	.LASF47
 394 0019 00000000 		.4byte	.Ldebug_ranges0+0
 395 001d 00000000 		.4byte	0
 396 0021 00000000 		.4byte	.Ldebug_line0
 397 0025 02       		.uleb128 0x2
 398 0026 01       		.byte	0x1
 399 0027 06       		.byte	0x6
 400 0028 D9020000 		.4byte	.LASF0
 401 002c 02       		.uleb128 0x2
 402 002d 01       		.byte	0x1
 403 002e 08       		.byte	0x8
 404 002f C5000000 		.4byte	.LASF1
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 41


 405 0033 02       		.uleb128 0x2
 406 0034 02       		.byte	0x2
 407 0035 05       		.byte	0x5
 408 0036 AA020000 		.4byte	.LASF2
 409 003a 02       		.uleb128 0x2
 410 003b 02       		.byte	0x2
 411 003c 07       		.byte	0x7
 412 003d 80000000 		.4byte	.LASF3
 413 0041 02       		.uleb128 0x2
 414 0042 04       		.byte	0x4
 415 0043 05       		.byte	0x5
 416 0044 C4020000 		.4byte	.LASF4
 417 0048 02       		.uleb128 0x2
 418 0049 04       		.byte	0x4
 419 004a 07       		.byte	0x7
 420 004b DA000000 		.4byte	.LASF5
 421 004f 02       		.uleb128 0x2
 422 0050 08       		.byte	0x8
 423 0051 05       		.byte	0x5
 424 0052 5A020000 		.4byte	.LASF6
 425 0056 02       		.uleb128 0x2
 426 0057 08       		.byte	0x8
 427 0058 07       		.byte	0x7
 428 0059 67010000 		.4byte	.LASF7
 429 005d 03       		.uleb128 0x3
 430 005e 04       		.byte	0x4
 431 005f 05       		.byte	0x5
 432 0060 696E7400 		.ascii	"int\000"
 433 0064 02       		.uleb128 0x2
 434 0065 04       		.byte	0x4
 435 0066 07       		.byte	0x7
 436 0067 49010000 		.4byte	.LASF8
 437 006b 04       		.uleb128 0x4
 438 006c B4020000 		.4byte	.LASF9
 439 0070 02       		.byte	0x2
 440 0071 E601     		.2byte	0x1e6
 441 0073 2C000000 		.4byte	0x2c
 442 0077 04       		.uleb128 0x4
 443 0078 32010000 		.4byte	.LASF10
 444 007c 02       		.byte	0x2
 445 007d E701     		.2byte	0x1e7
 446 007f 3A000000 		.4byte	0x3a
 447 0083 04       		.uleb128 0x4
 448 0084 42010000 		.4byte	.LASF11
 449 0088 02       		.byte	0x2
 450 0089 E801     		.2byte	0x1e8
 451 008b 48000000 		.4byte	0x48
 452 008f 04       		.uleb128 0x4
 453 0090 F5000000 		.4byte	.LASF12
 454 0094 02       		.byte	0x2
 455 0095 EB01     		.2byte	0x1eb
 456 0097 41000000 		.4byte	0x41
 457 009b 02       		.uleb128 0x2
 458 009c 04       		.byte	0x4
 459 009d 04       		.byte	0x4
 460 009e BF000000 		.4byte	.LASF13
 461 00a2 02       		.uleb128 0x2
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 42


 462 00a3 08       		.byte	0x8
 463 00a4 04       		.byte	0x4
 464 00a5 24010000 		.4byte	.LASF14
 465 00a9 02       		.uleb128 0x2
 466 00aa 01       		.byte	0x1
 467 00ab 08       		.byte	0x8
 468 00ac 80020000 		.4byte	.LASF15
 469 00b0 02       		.uleb128 0x2
 470 00b1 08       		.byte	0x8
 471 00b2 04       		.byte	0x4
 472 00b3 CD020000 		.4byte	.LASF16
 473 00b7 02       		.uleb128 0x2
 474 00b8 04       		.byte	0x4
 475 00b9 07       		.byte	0x7
 476 00ba 4C020000 		.4byte	.LASF17
 477 00be 04       		.uleb128 0x4
 478 00bf 00000000 		.4byte	.LASF18
 479 00c3 03       		.byte	0x3
 480 00c4 0101     		.2byte	0x101
 481 00c6 77000000 		.4byte	0x77
 482 00ca 04       		.uleb128 0x4
 483 00cb 32030000 		.4byte	.LASF19
 484 00cf 03       		.byte	0x3
 485 00d0 0501     		.2byte	0x105
 486 00d2 6B000000 		.4byte	0x6b
 487 00d6 05       		.uleb128 0x5
 488 00d7 6B000000 		.4byte	0x6b
 489 00db E6000000 		.4byte	0xe6
 490 00df 06       		.uleb128 0x6
 491 00e0 B7000000 		.4byte	0xb7
 492 00e4 00       		.byte	0
 493 00e5 00       		.byte	0
 494 00e6 05       		.uleb128 0x5
 495 00e7 77000000 		.4byte	0x77
 496 00eb F6000000 		.4byte	0xf6
 497 00ef 06       		.uleb128 0x6
 498 00f0 B7000000 		.4byte	0xb7
 499 00f4 00       		.byte	0
 500 00f5 00       		.byte	0
 501 00f6 07       		.uleb128 0x7
 502 00f7 0A       		.byte	0xa
 503 00f8 04       		.byte	0x4
 504 00f9 2101     		.2byte	0x121
 505 00fb 41010000 		.4byte	0x141
 506 00ff 08       		.uleb128 0x8
 507 0100 72617700 		.ascii	"raw\000"
 508 0104 04       		.byte	0x4
 509 0105 2601     		.2byte	0x126
 510 0107 E6000000 		.4byte	0xe6
 511 010b 00       		.byte	0
 512 010c 09       		.uleb128 0x9
 513 010d 2D030000 		.4byte	.LASF20
 514 0111 04       		.byte	0x4
 515 0112 2B01     		.2byte	0x12b
 516 0114 E6000000 		.4byte	0xe6
 517 0118 02       		.byte	0x2
 518 0119 09       		.uleb128 0x9
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 43


 519 011a 18000000 		.4byte	.LASF21
 520 011e 04       		.byte	0x4
 521 011f 3101     		.2byte	0x131
 522 0121 D6000000 		.4byte	0xd6
 523 0125 04       		.byte	0x4
 524 0126 09       		.uleb128 0x9
 525 0127 55020000 		.4byte	.LASF22
 526 012b 04       		.byte	0x4
 527 012c 3601     		.2byte	0x136
 528 012e BE000000 		.4byte	0xbe
 529 0132 06       		.byte	0x6
 530 0133 09       		.uleb128 0x9
 531 0134 B0010000 		.4byte	.LASF23
 532 0138 04       		.byte	0x4
 533 0139 3B01     		.2byte	0x13b
 534 013b 41010000 		.4byte	0x141
 535 013f 08       		.byte	0x8
 536 0140 00       		.byte	0
 537 0141 05       		.uleb128 0x5
 538 0142 CA000000 		.4byte	0xca
 539 0146 51010000 		.4byte	0x151
 540 014a 06       		.uleb128 0x6
 541 014b B7000000 		.4byte	0xb7
 542 014f 00       		.byte	0
 543 0150 00       		.byte	0
 544 0151 04       		.uleb128 0x4
 545 0152 68020000 		.4byte	.LASF24
 546 0156 04       		.byte	0x4
 547 0157 3C01     		.2byte	0x13c
 548 0159 F6000000 		.4byte	0xf6
 549 015d 0A       		.uleb128 0xa
 550 015e 04       		.byte	0x4
 551 015f 51010000 		.4byte	0x151
 552 0163 07       		.uleb128 0x7
 553 0164 02       		.byte	0x2
 554 0165 04       		.byte	0x4
 555 0166 DB02     		.2byte	0x2db
 556 0168 7A010000 		.4byte	0x17a
 557 016c 09       		.uleb128 0x9
 558 016d 2B010000 		.4byte	.LASF25
 559 0171 04       		.byte	0x4
 560 0172 E302     		.2byte	0x2e3
 561 0174 77000000 		.4byte	0x77
 562 0178 00       		.byte	0
 563 0179 00       		.byte	0
 564 017a 04       		.uleb128 0x4
 565 017b 93000000 		.4byte	.LASF26
 566 017f 04       		.byte	0x4
 567 0180 F502     		.2byte	0x2f5
 568 0182 63010000 		.4byte	0x163
 569 0186 0B       		.uleb128 0xb
 570 0187 E5020000 		.4byte	.LASF33
 571 018b 01       		.byte	0x1
 572 018c 4701     		.2byte	0x147
 573 018e 83000000 		.4byte	0x83
 574 0192 00000000 		.4byte	.LFB2
 575 0196 D8000000 		.4byte	.LFE2-.LFB2
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 44


 576 019a 01       		.uleb128 0x1
 577 019b 9C       		.byte	0x9c
 578 019c 0D020000 		.4byte	0x20d
 579 01a0 0C       		.uleb128 0xc
 580 01a1 D3000000 		.4byte	.LASF27
 581 01a5 01       		.byte	0x1
 582 01a6 4701     		.2byte	0x147
 583 01a8 5D010000 		.4byte	0x15d
 584 01ac 00000000 		.4byte	.LLST0
 585 01b0 0D       		.uleb128 0xd
 586 01b1 B6000000 		.4byte	.LASF28
 587 01b5 01       		.byte	0x1
 588 01b6 4701     		.2byte	0x147
 589 01b8 83000000 		.4byte	0x83
 590 01bc 01       		.uleb128 0x1
 591 01bd 51       		.byte	0x51
 592 01be 0C       		.uleb128 0xc
 593 01bf 85020000 		.4byte	.LASF29
 594 01c3 01       		.byte	0x1
 595 01c4 4801     		.2byte	0x148
 596 01c6 83000000 		.4byte	0x83
 597 01ca 21000000 		.4byte	.LLST1
 598 01ce 0E       		.uleb128 0xe
 599 01cf 6900     		.ascii	"i\000"
 600 01d1 01       		.byte	0x1
 601 01d2 4A01     		.2byte	0x14a
 602 01d4 83000000 		.4byte	0x83
 603 01d8 5B000000 		.4byte	.LLST2
 604 01dc 0F       		.uleb128 0xf
 605 01dd EC000000 		.4byte	.LASF30
 606 01e1 01       		.byte	0x1
 607 01e2 4B01     		.2byte	0x14b
 608 01e4 83000000 		.4byte	0x83
 609 01e8 79000000 		.4byte	.LLST3
 610 01ec 0F       		.uleb128 0xf
 611 01ed 5B010000 		.4byte	.LASF31
 612 01f1 01       		.byte	0x1
 613 01f2 4E01     		.2byte	0x14e
 614 01f4 5D010000 		.4byte	0x15d
 615 01f8 98000000 		.4byte	.LLST4
 616 01fc 0F       		.uleb128 0xf
 617 01fd 56010000 		.4byte	.LASF32
 618 0201 01       		.byte	0x1
 619 0202 4F01     		.2byte	0x14f
 620 0204 BE000000 		.4byte	0xbe
 621 0208 C1000000 		.4byte	.LLST5
 622 020c 00       		.byte	0
 623 020d 10       		.uleb128 0x10
 624 020e FB000000 		.4byte	.LASF34
 625 0212 01       		.byte	0x1
 626 0213 3602     		.2byte	0x236
 627 0215 83000000 		.4byte	0x83
 628 0219 00000000 		.4byte	.LFB3
 629 021d 88000000 		.4byte	.LFE3-.LFB3
 630 0221 01       		.uleb128 0x1
 631 0222 9C       		.byte	0x9c
 632 0223 96020000 		.4byte	0x296
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 45


 633 0227 0C       		.uleb128 0xc
 634 0228 39010000 		.4byte	.LASF35
 635 022c 01       		.byte	0x1
 636 022d 3602     		.2byte	0x236
 637 022f 96020000 		.4byte	0x296
 638 0233 01010000 		.4byte	.LLST6
 639 0237 0C       		.uleb128 0xc
 640 0238 19010000 		.4byte	.LASF36
 641 023c 01       		.byte	0x1
 642 023d 3602     		.2byte	0x236
 643 023f 83000000 		.4byte	0x83
 644 0243 2D010000 		.4byte	.LLST7
 645 0247 0C       		.uleb128 0xc
 646 0248 B6000000 		.4byte	.LASF28
 647 024c 01       		.byte	0x1
 648 024d 3602     		.2byte	0x236
 649 024f 83000000 		.4byte	0x83
 650 0253 59010000 		.4byte	.LLST8
 651 0257 0C       		.uleb128 0xc
 652 0258 95020000 		.4byte	.LASF37
 653 025c 01       		.byte	0x1
 654 025d 3602     		.2byte	0x236
 655 025f 83000000 		.4byte	0x83
 656 0263 78010000 		.4byte	.LLST9
 657 0267 0F       		.uleb128 0xf
 658 0268 BA020000 		.4byte	.LASF38
 659 026c 01       		.byte	0x1
 660 026d 3802     		.2byte	0x238
 661 026f 8F000000 		.4byte	0x8f
 662 0273 A4010000 		.4byte	.LLST10
 663 0277 0F       		.uleb128 0xf
 664 0278 4D030000 		.4byte	.LASF39
 665 027c 01       		.byte	0x1
 666 027d 3902     		.2byte	0x239
 667 027f 8F000000 		.4byte	0x8f
 668 0283 D8010000 		.4byte	.LLST11
 669 0287 0E       		.uleb128 0xe
 670 0288 6900     		.ascii	"i\000"
 671 028a 01       		.byte	0x1
 672 028b 3A02     		.2byte	0x23a
 673 028d 83000000 		.4byte	0x83
 674 0291 04020000 		.4byte	.LLST12
 675 0295 00       		.byte	0
 676 0296 0A       		.uleb128 0xa
 677 0297 04       		.byte	0x4
 678 0298 77000000 		.4byte	0x77
 679 029c 11       		.uleb128 0x11
 680 029d 8D010000 		.4byte	.LASF48
 681 02a1 01       		.byte	0x1
 682 02a2 2E07     		.2byte	0x72e
 683 02a4 00000000 		.4byte	.LFB4
 684 02a8 08000000 		.4byte	.LFE4-.LFB4
 685 02ac 01       		.uleb128 0x1
 686 02ad 9C       		.byte	0x9c
 687 02ae CF020000 		.4byte	0x2cf
 688 02b2 0D       		.uleb128 0xd
 689 02b3 6F000000 		.4byte	.LASF40
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 46


 690 02b7 01       		.byte	0x1
 691 02b8 2E07     		.2byte	0x72e
 692 02ba CF020000 		.4byte	0x2cf
 693 02be 01       		.uleb128 0x1
 694 02bf 50       		.byte	0x50
 695 02c0 0D       		.uleb128 0xd
 696 02c1 7A000000 		.4byte	.LASF41
 697 02c5 01       		.byte	0x1
 698 02c6 2E07     		.2byte	0x72e
 699 02c8 77000000 		.4byte	0x77
 700 02cc 01       		.uleb128 0x1
 701 02cd 51       		.byte	0x51
 702 02ce 00       		.byte	0
 703 02cf 0A       		.uleb128 0xa
 704 02d0 04       		.byte	0x4
 705 02d1 7A010000 		.4byte	0x17a
 706 02d5 12       		.uleb128 0x12
 707 02d6 A7010000 		.4byte	.LASF42
 708 02da 01       		.byte	0x1
 709 02db 53       		.byte	0x53
 710 02dc D6000000 		.4byte	0xd6
 711 02e0 05       		.uleb128 0x5
 712 02e1 03       		.byte	0x3
 713 02e2 04000000 		.4byte	localMax
 714 02e6 05       		.uleb128 0x5
 715 02e7 BE000000 		.4byte	0xbe
 716 02eb FC020000 		.4byte	0x2fc
 717 02ef 06       		.uleb128 0x6
 718 02f0 B7000000 		.4byte	0xb7
 719 02f4 00       		.byte	0
 720 02f5 06       		.uleb128 0x6
 721 02f6 B7000000 		.4byte	0xb7
 722 02fa 02       		.byte	0x2
 723 02fb 00       		.byte	0
 724 02fc 12       		.uleb128 0x12
 725 02fd 7E010000 		.4byte	.LASF43
 726 0301 01       		.byte	0x1
 727 0302 54       		.byte	0x54
 728 0303 E6020000 		.4byte	0x2e6
 729 0307 05       		.uleb128 0x5
 730 0308 03       		.byte	0x3
 731 0309 08000000 		.4byte	localDiffArray
 732 030d 12       		.uleb128 0x12
 733 030e 9C020000 		.4byte	.LASF44
 734 0312 01       		.byte	0x1
 735 0313 55       		.byte	0x55
 736 0314 6B000000 		.4byte	0x6b
 737 0318 05       		.uleb128 0x5
 738 0319 03       		.byte	0x3
 739 031a 00000000 		.4byte	localMaxIndex
 740 031e 00       		.byte	0
 741              		.section	.debug_abbrev,"",%progbits
 742              	.Ldebug_abbrev0:
 743 0000 01       		.uleb128 0x1
 744 0001 11       		.uleb128 0x11
 745 0002 01       		.byte	0x1
 746 0003 25       		.uleb128 0x25
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 47


 747 0004 0E       		.uleb128 0xe
 748 0005 13       		.uleb128 0x13
 749 0006 0B       		.uleb128 0xb
 750 0007 03       		.uleb128 0x3
 751 0008 0E       		.uleb128 0xe
 752 0009 1B       		.uleb128 0x1b
 753 000a 0E       		.uleb128 0xe
 754 000b 55       		.uleb128 0x55
 755 000c 17       		.uleb128 0x17
 756 000d 11       		.uleb128 0x11
 757 000e 01       		.uleb128 0x1
 758 000f 10       		.uleb128 0x10
 759 0010 17       		.uleb128 0x17
 760 0011 00       		.byte	0
 761 0012 00       		.byte	0
 762 0013 02       		.uleb128 0x2
 763 0014 24       		.uleb128 0x24
 764 0015 00       		.byte	0
 765 0016 0B       		.uleb128 0xb
 766 0017 0B       		.uleb128 0xb
 767 0018 3E       		.uleb128 0x3e
 768 0019 0B       		.uleb128 0xb
 769 001a 03       		.uleb128 0x3
 770 001b 0E       		.uleb128 0xe
 771 001c 00       		.byte	0
 772 001d 00       		.byte	0
 773 001e 03       		.uleb128 0x3
 774 001f 24       		.uleb128 0x24
 775 0020 00       		.byte	0
 776 0021 0B       		.uleb128 0xb
 777 0022 0B       		.uleb128 0xb
 778 0023 3E       		.uleb128 0x3e
 779 0024 0B       		.uleb128 0xb
 780 0025 03       		.uleb128 0x3
 781 0026 08       		.uleb128 0x8
 782 0027 00       		.byte	0
 783 0028 00       		.byte	0
 784 0029 04       		.uleb128 0x4
 785 002a 16       		.uleb128 0x16
 786 002b 00       		.byte	0
 787 002c 03       		.uleb128 0x3
 788 002d 0E       		.uleb128 0xe
 789 002e 3A       		.uleb128 0x3a
 790 002f 0B       		.uleb128 0xb
 791 0030 3B       		.uleb128 0x3b
 792 0031 05       		.uleb128 0x5
 793 0032 49       		.uleb128 0x49
 794 0033 13       		.uleb128 0x13
 795 0034 00       		.byte	0
 796 0035 00       		.byte	0
 797 0036 05       		.uleb128 0x5
 798 0037 01       		.uleb128 0x1
 799 0038 01       		.byte	0x1
 800 0039 49       		.uleb128 0x49
 801 003a 13       		.uleb128 0x13
 802 003b 01       		.uleb128 0x1
 803 003c 13       		.uleb128 0x13
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 48


 804 003d 00       		.byte	0
 805 003e 00       		.byte	0
 806 003f 06       		.uleb128 0x6
 807 0040 21       		.uleb128 0x21
 808 0041 00       		.byte	0
 809 0042 49       		.uleb128 0x49
 810 0043 13       		.uleb128 0x13
 811 0044 2F       		.uleb128 0x2f
 812 0045 0B       		.uleb128 0xb
 813 0046 00       		.byte	0
 814 0047 00       		.byte	0
 815 0048 07       		.uleb128 0x7
 816 0049 13       		.uleb128 0x13
 817 004a 01       		.byte	0x1
 818 004b 0B       		.uleb128 0xb
 819 004c 0B       		.uleb128 0xb
 820 004d 3A       		.uleb128 0x3a
 821 004e 0B       		.uleb128 0xb
 822 004f 3B       		.uleb128 0x3b
 823 0050 05       		.uleb128 0x5
 824 0051 01       		.uleb128 0x1
 825 0052 13       		.uleb128 0x13
 826 0053 00       		.byte	0
 827 0054 00       		.byte	0
 828 0055 08       		.uleb128 0x8
 829 0056 0D       		.uleb128 0xd
 830 0057 00       		.byte	0
 831 0058 03       		.uleb128 0x3
 832 0059 08       		.uleb128 0x8
 833 005a 3A       		.uleb128 0x3a
 834 005b 0B       		.uleb128 0xb
 835 005c 3B       		.uleb128 0x3b
 836 005d 05       		.uleb128 0x5
 837 005e 49       		.uleb128 0x49
 838 005f 13       		.uleb128 0x13
 839 0060 38       		.uleb128 0x38
 840 0061 0B       		.uleb128 0xb
 841 0062 00       		.byte	0
 842 0063 00       		.byte	0
 843 0064 09       		.uleb128 0x9
 844 0065 0D       		.uleb128 0xd
 845 0066 00       		.byte	0
 846 0067 03       		.uleb128 0x3
 847 0068 0E       		.uleb128 0xe
 848 0069 3A       		.uleb128 0x3a
 849 006a 0B       		.uleb128 0xb
 850 006b 3B       		.uleb128 0x3b
 851 006c 05       		.uleb128 0x5
 852 006d 49       		.uleb128 0x49
 853 006e 13       		.uleb128 0x13
 854 006f 38       		.uleb128 0x38
 855 0070 0B       		.uleb128 0xb
 856 0071 00       		.byte	0
 857 0072 00       		.byte	0
 858 0073 0A       		.uleb128 0xa
 859 0074 0F       		.uleb128 0xf
 860 0075 00       		.byte	0
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 49


 861 0076 0B       		.uleb128 0xb
 862 0077 0B       		.uleb128 0xb
 863 0078 49       		.uleb128 0x49
 864 0079 13       		.uleb128 0x13
 865 007a 00       		.byte	0
 866 007b 00       		.byte	0
 867 007c 0B       		.uleb128 0xb
 868 007d 2E       		.uleb128 0x2e
 869 007e 01       		.byte	0x1
 870 007f 3F       		.uleb128 0x3f
 871 0080 19       		.uleb128 0x19
 872 0081 03       		.uleb128 0x3
 873 0082 0E       		.uleb128 0xe
 874 0083 3A       		.uleb128 0x3a
 875 0084 0B       		.uleb128 0xb
 876 0085 3B       		.uleb128 0x3b
 877 0086 05       		.uleb128 0x5
 878 0087 27       		.uleb128 0x27
 879 0088 19       		.uleb128 0x19
 880 0089 49       		.uleb128 0x49
 881 008a 13       		.uleb128 0x13
 882 008b 11       		.uleb128 0x11
 883 008c 01       		.uleb128 0x1
 884 008d 12       		.uleb128 0x12
 885 008e 06       		.uleb128 0x6
 886 008f 40       		.uleb128 0x40
 887 0090 18       		.uleb128 0x18
 888 0091 9742     		.uleb128 0x2117
 889 0093 19       		.uleb128 0x19
 890 0094 01       		.uleb128 0x1
 891 0095 13       		.uleb128 0x13
 892 0096 00       		.byte	0
 893 0097 00       		.byte	0
 894 0098 0C       		.uleb128 0xc
 895 0099 05       		.uleb128 0x5
 896 009a 00       		.byte	0
 897 009b 03       		.uleb128 0x3
 898 009c 0E       		.uleb128 0xe
 899 009d 3A       		.uleb128 0x3a
 900 009e 0B       		.uleb128 0xb
 901 009f 3B       		.uleb128 0x3b
 902 00a0 05       		.uleb128 0x5
 903 00a1 49       		.uleb128 0x49
 904 00a2 13       		.uleb128 0x13
 905 00a3 02       		.uleb128 0x2
 906 00a4 17       		.uleb128 0x17
 907 00a5 00       		.byte	0
 908 00a6 00       		.byte	0
 909 00a7 0D       		.uleb128 0xd
 910 00a8 05       		.uleb128 0x5
 911 00a9 00       		.byte	0
 912 00aa 03       		.uleb128 0x3
 913 00ab 0E       		.uleb128 0xe
 914 00ac 3A       		.uleb128 0x3a
 915 00ad 0B       		.uleb128 0xb
 916 00ae 3B       		.uleb128 0x3b
 917 00af 05       		.uleb128 0x5
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 50


 918 00b0 49       		.uleb128 0x49
 919 00b1 13       		.uleb128 0x13
 920 00b2 02       		.uleb128 0x2
 921 00b3 18       		.uleb128 0x18
 922 00b4 00       		.byte	0
 923 00b5 00       		.byte	0
 924 00b6 0E       		.uleb128 0xe
 925 00b7 34       		.uleb128 0x34
 926 00b8 00       		.byte	0
 927 00b9 03       		.uleb128 0x3
 928 00ba 08       		.uleb128 0x8
 929 00bb 3A       		.uleb128 0x3a
 930 00bc 0B       		.uleb128 0xb
 931 00bd 3B       		.uleb128 0x3b
 932 00be 05       		.uleb128 0x5
 933 00bf 49       		.uleb128 0x49
 934 00c0 13       		.uleb128 0x13
 935 00c1 02       		.uleb128 0x2
 936 00c2 17       		.uleb128 0x17
 937 00c3 00       		.byte	0
 938 00c4 00       		.byte	0
 939 00c5 0F       		.uleb128 0xf
 940 00c6 34       		.uleb128 0x34
 941 00c7 00       		.byte	0
 942 00c8 03       		.uleb128 0x3
 943 00c9 0E       		.uleb128 0xe
 944 00ca 3A       		.uleb128 0x3a
 945 00cb 0B       		.uleb128 0xb
 946 00cc 3B       		.uleb128 0x3b
 947 00cd 05       		.uleb128 0x5
 948 00ce 49       		.uleb128 0x49
 949 00cf 13       		.uleb128 0x13
 950 00d0 02       		.uleb128 0x2
 951 00d1 17       		.uleb128 0x17
 952 00d2 00       		.byte	0
 953 00d3 00       		.byte	0
 954 00d4 10       		.uleb128 0x10
 955 00d5 2E       		.uleb128 0x2e
 956 00d6 01       		.byte	0x1
 957 00d7 3F       		.uleb128 0x3f
 958 00d8 19       		.uleb128 0x19
 959 00d9 03       		.uleb128 0x3
 960 00da 0E       		.uleb128 0xe
 961 00db 3A       		.uleb128 0x3a
 962 00dc 0B       		.uleb128 0xb
 963 00dd 3B       		.uleb128 0x3b
 964 00de 05       		.uleb128 0x5
 965 00df 27       		.uleb128 0x27
 966 00e0 19       		.uleb128 0x19
 967 00e1 49       		.uleb128 0x49
 968 00e2 13       		.uleb128 0x13
 969 00e3 11       		.uleb128 0x11
 970 00e4 01       		.uleb128 0x1
 971 00e5 12       		.uleb128 0x12
 972 00e6 06       		.uleb128 0x6
 973 00e7 40       		.uleb128 0x40
 974 00e8 18       		.uleb128 0x18
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 51


 975 00e9 9642     		.uleb128 0x2116
 976 00eb 19       		.uleb128 0x19
 977 00ec 01       		.uleb128 0x1
 978 00ed 13       		.uleb128 0x13
 979 00ee 00       		.byte	0
 980 00ef 00       		.byte	0
 981 00f0 11       		.uleb128 0x11
 982 00f1 2E       		.uleb128 0x2e
 983 00f2 01       		.byte	0x1
 984 00f3 3F       		.uleb128 0x3f
 985 00f4 19       		.uleb128 0x19
 986 00f5 03       		.uleb128 0x3
 987 00f6 0E       		.uleb128 0xe
 988 00f7 3A       		.uleb128 0x3a
 989 00f8 0B       		.uleb128 0xb
 990 00f9 3B       		.uleb128 0x3b
 991 00fa 05       		.uleb128 0x5
 992 00fb 27       		.uleb128 0x27
 993 00fc 19       		.uleb128 0x19
 994 00fd 11       		.uleb128 0x11
 995 00fe 01       		.uleb128 0x1
 996 00ff 12       		.uleb128 0x12
 997 0100 06       		.uleb128 0x6
 998 0101 40       		.uleb128 0x40
 999 0102 18       		.uleb128 0x18
 1000 0103 9742     		.uleb128 0x2117
 1001 0105 19       		.uleb128 0x19
 1002 0106 01       		.uleb128 0x1
 1003 0107 13       		.uleb128 0x13
 1004 0108 00       		.byte	0
 1005 0109 00       		.byte	0
 1006 010a 12       		.uleb128 0x12
 1007 010b 34       		.uleb128 0x34
 1008 010c 00       		.byte	0
 1009 010d 03       		.uleb128 0x3
 1010 010e 0E       		.uleb128 0xe
 1011 010f 3A       		.uleb128 0x3a
 1012 0110 0B       		.uleb128 0xb
 1013 0111 3B       		.uleb128 0x3b
 1014 0112 0B       		.uleb128 0xb
 1015 0113 49       		.uleb128 0x49
 1016 0114 13       		.uleb128 0x13
 1017 0115 02       		.uleb128 0x2
 1018 0116 18       		.uleb128 0x18
 1019 0117 00       		.byte	0
 1020 0118 00       		.byte	0
 1021 0119 00       		.byte	0
 1022              		.section	.debug_loc,"",%progbits
 1023              	.Ldebug_loc0:
 1024              	.LLST0:
 1025 0000 00000000 		.4byte	.LVL0
 1026 0004 D0000000 		.4byte	.LVL15
 1027 0008 0100     		.2byte	0x1
 1028 000a 50       		.byte	0x50
 1029 000b D0000000 		.4byte	.LVL15
 1030 000f D8000000 		.4byte	.LFE2
 1031 0013 0400     		.2byte	0x4
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 52


 1032 0015 F3       		.byte	0xf3
 1033 0016 01       		.uleb128 0x1
 1034 0017 50       		.byte	0x50
 1035 0018 9F       		.byte	0x9f
 1036 0019 00000000 		.4byte	0
 1037 001d 00000000 		.4byte	0
 1038              	.LLST1:
 1039 0021 00000000 		.4byte	.LVL0
 1040 0025 36000000 		.4byte	.LVL10
 1041 0029 0100     		.2byte	0x1
 1042 002b 52       		.byte	0x52
 1043 002c 36000000 		.4byte	.LVL10
 1044 0030 C2000000 		.4byte	.LVL12
 1045 0034 0400     		.2byte	0x4
 1046 0036 F3       		.byte	0xf3
 1047 0037 01       		.uleb128 0x1
 1048 0038 52       		.byte	0x52
 1049 0039 9F       		.byte	0x9f
 1050 003a C2000000 		.4byte	.LVL12
 1051 003e C4000000 		.4byte	.LVL13
 1052 0042 0100     		.2byte	0x1
 1053 0044 52       		.byte	0x52
 1054 0045 C4000000 		.4byte	.LVL13
 1055 0049 D8000000 		.4byte	.LFE2
 1056 004d 0400     		.2byte	0x4
 1057 004f F3       		.byte	0xf3
 1058 0050 01       		.uleb128 0x1
 1059 0051 52       		.byte	0x52
 1060 0052 9F       		.byte	0x9f
 1061 0053 00000000 		.4byte	0
 1062 0057 00000000 		.4byte	0
 1063              	.LLST2:
 1064 005b 36000000 		.4byte	.LVL10
 1065 005f C2000000 		.4byte	.LVL12
 1066 0063 0100     		.2byte	0x1
 1067 0065 52       		.byte	0x52
 1068 0066 C4000000 		.4byte	.LVL13
 1069 006a CC000000 		.4byte	.LVL14
 1070 006e 0100     		.2byte	0x1
 1071 0070 52       		.byte	0x52
 1072 0071 00000000 		.4byte	0
 1073 0075 00000000 		.4byte	0
 1074              	.LLST3:
 1075 0079 08000000 		.4byte	.LVL2
 1076 007d 10000000 		.4byte	.LVL3
 1077 0081 0200     		.2byte	0x2
 1078 0083 30       		.byte	0x30
 1079 0084 9F       		.byte	0x9f
 1080 0085 10000000 		.4byte	.LVL3
 1081 0089 2E000000 		.4byte	.LVL9
 1082 008d 0100     		.2byte	0x1
 1083 008f 53       		.byte	0x53
 1084 0090 00000000 		.4byte	0
 1085 0094 00000000 		.4byte	0
 1086              	.LLST4:
 1087 0098 02000000 		.4byte	.LVL1
 1088 009c 10000000 		.4byte	.LVL3
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 53


 1089 00a0 0100     		.2byte	0x1
 1090 00a2 50       		.byte	0x50
 1091 00a3 10000000 		.4byte	.LVL3
 1092 00a7 36000000 		.4byte	.LVL10
 1093 00ab 0100     		.2byte	0x1
 1094 00ad 54       		.byte	0x54
 1095 00ae C2000000 		.4byte	.LVL12
 1096 00b2 C4000000 		.4byte	.LVL13
 1097 00b6 0100     		.2byte	0x1
 1098 00b8 54       		.byte	0x54
 1099 00b9 00000000 		.4byte	0
 1100 00bd 00000000 		.4byte	0
 1101              	.LLST5:
 1102 00c1 02000000 		.4byte	.LVL1
 1103 00c5 10000000 		.4byte	.LVL3
 1104 00c9 0200     		.2byte	0x2
 1105 00cb 30       		.byte	0x30
 1106 00cc 9F       		.byte	0x9f
 1107 00cd 10000000 		.4byte	.LVL3
 1108 00d1 1C000000 		.4byte	.LVL4
 1109 00d5 0100     		.2byte	0x1
 1110 00d7 56       		.byte	0x56
 1111 00d8 1E000000 		.4byte	.LVL5
 1112 00dc 24000000 		.4byte	.LVL6
 1113 00e0 0100     		.2byte	0x1
 1114 00e2 55       		.byte	0x55
 1115 00e3 24000000 		.4byte	.LVL6
 1116 00e7 36000000 		.4byte	.LVL10
 1117 00eb 0100     		.2byte	0x1
 1118 00ed 56       		.byte	0x56
 1119 00ee C2000000 		.4byte	.LVL12
 1120 00f2 C4000000 		.4byte	.LVL13
 1121 00f6 0100     		.2byte	0x1
 1122 00f8 56       		.byte	0x56
 1123 00f9 00000000 		.4byte	0
 1124 00fd 00000000 		.4byte	0
 1125              	.LLST6:
 1126 0101 00000000 		.4byte	.LVL16
 1127 0105 16000000 		.4byte	.LVL18
 1128 0109 0100     		.2byte	0x1
 1129 010b 50       		.byte	0x50
 1130 010c 16000000 		.4byte	.LVL18
 1131 0110 7C000000 		.4byte	.LVL30
 1132 0114 0100     		.2byte	0x1
 1133 0116 5A       		.byte	0x5a
 1134 0117 7C000000 		.4byte	.LVL30
 1135 011b 88000000 		.4byte	.LFE3
 1136 011f 0400     		.2byte	0x4
 1137 0121 F3       		.byte	0xf3
 1138 0122 01       		.uleb128 0x1
 1139 0123 50       		.byte	0x50
 1140 0124 9F       		.byte	0x9f
 1141 0125 00000000 		.4byte	0
 1142 0129 00000000 		.4byte	0
 1143              	.LLST7:
 1144 012d 00000000 		.4byte	.LVL16
 1145 0131 16000000 		.4byte	.LVL18
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 54


 1146 0135 0100     		.2byte	0x1
 1147 0137 51       		.byte	0x51
 1148 0138 16000000 		.4byte	.LVL18
 1149 013c 7C000000 		.4byte	.LVL28
 1150 0140 0100     		.2byte	0x1
 1151 0142 57       		.byte	0x57
 1152 0143 7C000000 		.4byte	.LVL28
 1153 0147 88000000 		.4byte	.LFE3
 1154 014b 0400     		.2byte	0x4
 1155 014d F3       		.byte	0xf3
 1156 014e 01       		.uleb128 0x1
 1157 014f 51       		.byte	0x51
 1158 0150 9F       		.byte	0x9f
 1159 0151 00000000 		.4byte	0
 1160 0155 00000000 		.4byte	0
 1161              	.LLST8:
 1162 0159 00000000 		.4byte	.LVL16
 1163 015d 16000000 		.4byte	.LVL18
 1164 0161 0100     		.2byte	0x1
 1165 0163 52       		.byte	0x52
 1166 0164 16000000 		.4byte	.LVL18
 1167 0168 88000000 		.4byte	.LFE3
 1168 016c 0200     		.2byte	0x2
 1169 016e 91       		.byte	0x91
 1170 016f 5C       		.sleb128 -36
 1171 0170 00000000 		.4byte	0
 1172 0174 00000000 		.4byte	0
 1173              	.LLST9:
 1174 0178 00000000 		.4byte	.LVL16
 1175 017c 16000000 		.4byte	.LVL18
 1176 0180 0100     		.2byte	0x1
 1177 0182 53       		.byte	0x53
 1178 0183 16000000 		.4byte	.LVL18
 1179 0187 7C000000 		.4byte	.LVL29
 1180 018b 0100     		.2byte	0x1
 1181 018d 58       		.byte	0x58
 1182 018e 7C000000 		.4byte	.LVL29
 1183 0192 88000000 		.4byte	.LFE3
 1184 0196 0400     		.2byte	0x4
 1185 0198 F3       		.byte	0xf3
 1186 0199 01       		.uleb128 0x1
 1187 019a 53       		.byte	0x53
 1188 019b 9F       		.byte	0x9f
 1189 019c 00000000 		.4byte	0
 1190 01a0 00000000 		.4byte	0
 1191              	.LLST10:
 1192 01a4 56000000 		.4byte	.LVL19
 1193 01a8 5E000000 		.4byte	.LVL21
 1194 01ac 0100     		.2byte	0x1
 1195 01ae 50       		.byte	0x50
 1196 01af 5E000000 		.4byte	.LVL21
 1197 01b3 61000000 		.4byte	.LVL22-1
 1198 01b7 1700     		.2byte	0x17
 1199 01b9 72       		.byte	0x72
 1200 01ba 00       		.sleb128 0
 1201 01bb 76       		.byte	0x76
 1202 01bc 00       		.sleb128 0
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 55


 1203 01bd 75       		.byte	0x75
 1204 01be 00       		.sleb128 0
 1205 01bf 22       		.byte	0x22
 1206 01c0 31       		.byte	0x31
 1207 01c1 24       		.byte	0x24
 1208 01c2 03       		.byte	0x3
 1209 01c3 08000000 		.4byte	.LANCHOR0+8
 1210 01c7 22       		.byte	0x22
 1211 01c8 94       		.byte	0x94
 1212 01c9 02       		.byte	0x2
 1213 01ca 0A       		.byte	0xa
 1214 01cb FFFF     		.2byte	0xffff
 1215 01cd 1A       		.byte	0x1a
 1216 01ce 1C       		.byte	0x1c
 1217 01cf 9F       		.byte	0x9f
 1218 01d0 00000000 		.4byte	0
 1219 01d4 00000000 		.4byte	0
 1220              	.LLST11:
 1221 01d8 5C000000 		.4byte	.LVL20
 1222 01dc 61000000 		.4byte	.LVL22-1
 1223 01e0 0100     		.2byte	0x1
 1224 01e2 51       		.byte	0x51
 1225 01e3 68000000 		.4byte	.LVL23
 1226 01e7 6A000000 		.4byte	.LVL24
 1227 01eb 0100     		.2byte	0x1
 1228 01ed 50       		.byte	0x50
 1229 01ee 6A000000 		.4byte	.LVL24
 1230 01f2 6C000000 		.4byte	.LVL25
 1231 01f6 0400     		.2byte	0x4
 1232 01f8 70       		.byte	0x70
 1233 01f9 817F     		.sleb128 -127
 1234 01fb 9F       		.byte	0x9f
 1235 01fc 00000000 		.4byte	0
 1236 0200 00000000 		.4byte	0
 1237              	.LLST12:
 1238 0204 12000000 		.4byte	.LVL17
 1239 0208 16000000 		.4byte	.LVL18
 1240 020c 0200     		.2byte	0x2
 1241 020e 30       		.byte	0x30
 1242 020f 9F       		.byte	0x9f
 1243 0210 16000000 		.4byte	.LVL18
 1244 0214 7C000000 		.4byte	.LVL27
 1245 0218 0100     		.2byte	0x1
 1246 021a 55       		.byte	0x55
 1247 021b 00000000 		.4byte	0
 1248 021f 00000000 		.4byte	0
 1249              		.section	.debug_aranges,"",%progbits
 1250 0000 2C000000 		.4byte	0x2c
 1251 0004 0200     		.2byte	0x2
 1252 0006 00000000 		.4byte	.Ldebug_info0
 1253 000a 04       		.byte	0x4
 1254 000b 00       		.byte	0
 1255 000c 0000     		.2byte	0
 1256 000e 0000     		.2byte	0
 1257 0010 00000000 		.4byte	.LFB2
 1258 0014 D8000000 		.4byte	.LFE2-.LFB2
 1259 0018 00000000 		.4byte	.LFB3
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 56


 1260 001c 88000000 		.4byte	.LFE3-.LFB3
 1261 0020 00000000 		.4byte	.LFB4
 1262 0024 08000000 		.4byte	.LFE4-.LFB4
 1263 0028 00000000 		.4byte	0
 1264 002c 00000000 		.4byte	0
 1265              		.section	.debug_ranges,"",%progbits
 1266              	.Ldebug_ranges0:
 1267 0000 00000000 		.4byte	.LFB2
 1268 0004 D8000000 		.4byte	.LFE2
 1269 0008 00000000 		.4byte	.LFB3
 1270 000c 88000000 		.4byte	.LFE3
 1271 0010 00000000 		.4byte	.LFB4
 1272 0014 08000000 		.4byte	.LFE4
 1273 0018 00000000 		.4byte	0
 1274 001c 00000000 		.4byte	0
 1275              		.section	.debug_line,"",%progbits
 1276              	.Ldebug_line0:
 1277 0000 45010000 		.section	.debug_str,"MS",%progbits,1
 1277      02008500 
 1277      00000201 
 1277      FB0E0D00 
 1277      01010101 
 1278              	.LASF18:
 1279 0000 43617053 		.ascii	"CapSense_THRESHOLD_TYPE\000"
 1279      656E7365 
 1279      5F544852 
 1279      4553484F 
 1279      4C445F54 
 1280              	.LASF21:
 1281 0018 62736C6E 		.ascii	"bslnExt\000"
 1281      45787400 
 1282              	.LASF47:
 1283 0020 433A5C55 		.ascii	"C:\\Users\\janusdg-win\\UCU\\POC\\LABALAST\\LABs_BL"
 1283      73657273 
 1283      5C6A616E 
 1283      75736467 
 1283      2D77696E 
 1284 004d 455C4C61 		.ascii	"E\\Lab_4_1_BLE_Automation_IO.cydsn\000"
 1284      625F345F 
 1284      315F424C 
 1284      455F4175 
 1284      746F6D61 
 1285              	.LASF40:
 1286 006f 70747248 		.ascii	"ptrHistory\000"
 1286      6973746F 
 1286      727900
 1287              	.LASF41:
 1288 007a 76616C75 		.ascii	"value\000"
 1288      6500
 1289              	.LASF3:
 1290 0080 73686F72 		.ascii	"short unsigned int\000"
 1290      7420756E 
 1290      7369676E 
 1290      65642069 
 1290      6E7400
 1291              	.LASF26:
 1292 0093 43617053 		.ascii	"CapSense_SLIDER_POS_HISTORY_STRUCT\000"
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 57


 1292      656E7365 
 1292      5F534C49 
 1292      4445525F 
 1292      504F535F 
 1293              	.LASF28:
 1294 00b6 736E7343 		.ascii	"snsCount\000"
 1294      6F756E74 
 1294      00
 1295              	.LASF13:
 1296 00bf 666C6F61 		.ascii	"float\000"
 1296      7400
 1297              	.LASF1:
 1298 00c5 756E7369 		.ascii	"unsigned char\000"
 1298      676E6564 
 1298      20636861 
 1298      7200
 1299              	.LASF27:
 1300 00d3 70747253 		.ascii	"ptrSns\000"
 1300      6E7300
 1301              	.LASF5:
 1302 00da 6C6F6E67 		.ascii	"long unsigned int\000"
 1302      20756E73 
 1302      69676E65 
 1302      6420696E 
 1302      7400
 1303              	.LASF30:
 1304 00ec 73656E73 		.ascii	"sensorId\000"
 1304      6F724964 
 1304      00
 1305              	.LASF12:
 1306 00f5 696E7433 		.ascii	"int32\000"
 1306      3200
 1307              	.LASF34:
 1308 00fb 43617053 		.ascii	"CapSense_DpCalcLinearCentroid\000"
 1308      656E7365 
 1308      5F447043 
 1308      616C634C 
 1308      696E6561 
 1309              	.LASF36:
 1310 0119 6D756C74 		.ascii	"multiplier\000"
 1310      69706C69 
 1310      657200
 1311              	.LASF14:
 1312 0124 646F7562 		.ascii	"double\000"
 1312      6C6500
 1313              	.LASF25:
 1314 012b 706F7349 		.ascii	"posIIR\000"
 1314      495200
 1315              	.LASF10:
 1316 0132 75696E74 		.ascii	"uint16\000"
 1316      313600
 1317              	.LASF35:
 1318 0139 706F7369 		.ascii	"position\000"
 1318      74696F6E 
 1318      00
 1319              	.LASF11:
 1320 0142 75696E74 		.ascii	"uint32\000"
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 58


 1320      333200
 1321              	.LASF8:
 1322 0149 756E7369 		.ascii	"unsigned int\000"
 1322      676E6564 
 1322      20696E74 
 1322      00
 1323              	.LASF32:
 1324 0156 74656D70 		.ascii	"temp\000"
 1324      00
 1325              	.LASF31:
 1326 015b 6C6F6361 		.ascii	"localPtrSns\000"
 1326      6C507472 
 1326      536E7300 
 1327              	.LASF7:
 1328 0167 6C6F6E67 		.ascii	"long long unsigned int\000"
 1328      206C6F6E 
 1328      6720756E 
 1328      7369676E 
 1328      65642069 
 1329              	.LASF43:
 1330 017e 6C6F6361 		.ascii	"localDiffArray\000"
 1330      6C446966 
 1330      66417272 
 1330      617900
 1331              	.LASF48:
 1332 018d 43617053 		.ascii	"CapSense_InitPosFiltersSd\000"
 1332      656E7365 
 1332      5F496E69 
 1332      74506F73 
 1332      46696C74 
 1333              	.LASF42:
 1334 01a7 6C6F6361 		.ascii	"localMax\000"
 1334      6C4D6178 
 1334      00
 1335              	.LASF23:
 1336 01b0 6E656742 		.ascii	"negBslnRstCnt\000"
 1336      736C6E52 
 1336      7374436E 
 1336      7400
 1337              	.LASF45:
 1338 01be 474E5520 		.ascii	"GNU C11 5.4.1 20160609 (release) [ARM/embedded-5-br"
 1338      43313120 
 1338      352E342E 
 1338      31203230 
 1338      31363036 
 1339 01f1 616E6368 		.ascii	"anch revision 237715] -mcpu=cortex-m0 -mthumb -g -O"
 1339      20726576 
 1339      6973696F 
 1339      6E203233 
 1339      37373135 
 1340 0224 67202D66 		.ascii	"g -ffunction-sections -ffat-lto-objects\000"
 1340      66756E63 
 1340      74696F6E 
 1340      2D736563 
 1340      74696F6E 
 1341              	.LASF17:
 1342 024c 73697A65 		.ascii	"sizetype\000"
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 59


 1342      74797065 
 1342      00
 1343              	.LASF22:
 1344 0255 64696666 		.ascii	"diff\000"
 1344      00
 1345              	.LASF6:
 1346 025a 6C6F6E67 		.ascii	"long long int\000"
 1346      206C6F6E 
 1346      6720696E 
 1346      7400
 1347              	.LASF24:
 1348 0268 43617053 		.ascii	"CapSense_RAM_SNS_STRUCT\000"
 1348      656E7365 
 1348      5F52414D 
 1348      5F534E53 
 1348      5F535452 
 1349              	.LASF15:
 1350 0280 63686172 		.ascii	"char\000"
 1350      00
 1351              	.LASF29:
 1352 0285 66696E67 		.ascii	"fingerThreshold\000"
 1352      65725468 
 1352      72657368 
 1352      6F6C6400 
 1353              	.LASF37:
 1354 0295 6F666673 		.ascii	"offset\000"
 1354      657400
 1355              	.LASF44:
 1356 029c 6C6F6361 		.ascii	"localMaxIndex\000"
 1356      6C4D6178 
 1356      496E6465 
 1356      7800
 1357              	.LASF2:
 1358 02aa 73686F72 		.ascii	"short int\000"
 1358      7420696E 
 1358      7400
 1359              	.LASF9:
 1360 02b4 75696E74 		.ascii	"uint8\000"
 1360      3800
 1361              	.LASF38:
 1362 02ba 6E756D65 		.ascii	"numerator\000"
 1362      7261746F 
 1362      7200
 1363              	.LASF4:
 1364 02c4 6C6F6E67 		.ascii	"long int\000"
 1364      20696E74 
 1364      00
 1365              	.LASF16:
 1366 02cd 6C6F6E67 		.ascii	"long double\000"
 1366      20646F75 
 1366      626C6500 
 1367              	.LASF0:
 1368 02d9 7369676E 		.ascii	"signed char\000"
 1368      65642063 
 1368      68617200 
 1369              	.LASF33:
 1370 02e5 43617053 		.ascii	"CapSense_DpFindLocalMaxSd\000"
ARM GAS  C:\Users\JANUSD~1\AppData\Local\Temp\cci6wsMt.s 			page 60


 1370      656E7365 
 1370      5F447046 
 1370      696E644C 
 1370      6F63616C 
 1371              	.LASF46:
 1372 02ff 47656E65 		.ascii	"Generated_Source\\PSoC4\\CapSense_Centroid_LL.c\000"
 1372      72617465 
 1372      645F536F 
 1372      75726365 
 1372      5C50536F 
 1373              	.LASF20:
 1374 032d 62736C6E 		.ascii	"bsln\000"
 1374      00
 1375              	.LASF19:
 1376 0332 43617053 		.ascii	"CapSense_LOW_BSLN_RST_TYPE\000"
 1376      656E7365 
 1376      5F4C4F57 
 1376      5F42534C 
 1376      4E5F5253 
 1377              	.LASF39:
 1378 034d 64656E6F 		.ascii	"denominator\000"
 1378      6D696E61 
 1378      746F7200 
 1379              		.ident	"GCC: (GNU Tools for ARM Embedded Processors) 5.4.1 20160609 (release) [ARM/embedded-5-bran
